{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/services/api/client.ts"],"sourcesContent":["// API Client para Student App\n// Conecta con el backend compartido en el bounded context de estudiantes\n\nexport class APIError extends Error {\n  constructor(\n    public statusCode: number,\n    public message: string,\n    public details?: any\n  ) {\n    super(message)\n    this.name = \"APIError\"\n  }\n}\n\n// Configuración de la URL base\nconst configuredUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\"\nconst API_BASE_URL = configuredUrl.endsWith(\"/api/v1\")\n  ? configuredUrl\n  : `${configuredUrl}/api/v1`\n\nexport async function apiRequest<T>(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<T> {\n  const url = `${API_BASE_URL}${endpoint}`\n\n  const defaultHeaders: HeadersInit = {\n    \"Content-Type\": \"application/json\",\n  }\n\n  // TODO: Add authentication token\n  // const token = await getAuthToken()\n  // if (token) {\n  //   defaultHeaders.Authorization = `Bearer ${token}`\n  // }\n\n  const config: RequestInit = {\n    ...options,\n    headers: {\n      ...defaultHeaders,\n      ...options.headers,\n    },\n  }\n\n  try {\n    const response = await fetch(url, config)\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      throw new APIError(\n        response.status,\n        errorData.message || `HTTP ${response.status}: ${response.statusText}`,\n        errorData\n      )\n    }\n\n    // Handle 204 No Content\n    if (response.status === 204) {\n      return {} as T\n    }\n\n    return await response.json()\n  } catch (error) {\n    if (error instanceof APIError) {\n      throw error\n    }\n\n    throw new APIError(\n      500,\n      error instanceof Error ? error.message : \"Unknown error occurred\"\n    )\n  }\n}\n\nexport const apiClient = {\n  get: <T>(endpoint: string, options?: RequestInit) =>\n    apiRequest<T>(endpoint, { ...options, method: \"GET\" }),\n\n  post: <T>(endpoint: string, data?: any, options?: RequestInit) =>\n    apiRequest<T>(endpoint, {\n      ...options,\n      method: \"POST\",\n      body: data ? JSON.stringify(data) : undefined,\n    }),\n\n  put: <T>(endpoint: string, data?: any, options?: RequestInit) =>\n    apiRequest<T>(endpoint, {\n      ...options,\n      method: \"PUT\",\n      body: data ? JSON.stringify(data) : undefined,\n    }),\n\n  patch: <T>(endpoint: string, data?: any, options?: RequestInit) =>\n    apiRequest<T>(endpoint, {\n      ...options,\n      method: \"PATCH\",\n      body: data ? JSON.stringify(data) : undefined,\n    }),\n\n  delete: <T>(endpoint: string, options?: RequestInit) =>\n    apiRequest<T>(endpoint, { ...options, method: \"DELETE\" }),\n}\n"],"names":[],"mappings":"AAAA,8BAA8B;AAC9B,yEAAyE;;;;;;;;;AAElE,MAAM,iBAAiB;;;;IAC5B,YACE,AAAO,UAAkB,EACzB,AAAO,OAAe,EACtB,AAAO,OAAa,CACpB;QACA,KAAK,CAAC,eAJC,aAAA,iBACA,UAAA,cACA,UAAA;QAGP,IAAI,CAAC,IAAI,GAAG;IACd;AACF;AAEA,+BAA+B;AAC/B,MAAM,gBAAgB,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AACzD,MAAM,eAAe,cAAc,QAAQ,CAAC,aACxC,gBACA,GAAG,cAAc,OAAO,CAAC;AAEtB,eAAe,WACpB,QAAgB,EAChB,UAAuB,CAAC,CAAC;IAEzB,MAAM,MAAM,GAAG,eAAe,UAAU;IAExC,MAAM,iBAA8B;QAClC,gBAAgB;IAClB;IAEA,iCAAiC;IACjC,qCAAqC;IACrC,eAAe;IACf,qDAAqD;IACrD,IAAI;IAEJ,MAAM,SAAsB;QAC1B,GAAG,OAAO;QACV,SAAS;YACP,GAAG,cAAc;YACjB,GAAG,QAAQ,OAAO;QACpB;IACF;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,KAAK;QAElC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,SACR,SAAS,MAAM,EACf,UAAU,OAAO,IAAI,CAAC,KAAK,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,SAAS,UAAU,EAAE,EACtE;QAEJ;QAEA,wBAAwB;QACxB,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,OAAO,CAAC;QACV;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,UAAU;YAC7B,MAAM;QACR;QAEA,MAAM,IAAI,SACR,KACA,iBAAiB,QAAQ,MAAM,OAAO,GAAG;IAE7C;AACF;AAEO,MAAM,YAAY;IACvB,KAAK,CAAI,UAAkB,UACzB,WAAc,UAAU;YAAE,GAAG,OAAO;YAAE,QAAQ;QAAM;IAEtD,MAAM,CAAI,UAAkB,MAAY,UACtC,WAAc,UAAU;YACtB,GAAG,OAAO;YACV,QAAQ;YACR,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACtC;IAEF,KAAK,CAAI,UAAkB,MAAY,UACrC,WAAc,UAAU;YACtB,GAAG,OAAO;YACV,QAAQ;YACR,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACtC;IAEF,OAAO,CAAI,UAAkB,MAAY,UACvC,WAAc,UAAU;YACtB,GAAG,OAAO;YACV,QAAQ;YACR,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACtC;IAEF,QAAQ,CAAI,UAAkB,UAC5B,WAAc,UAAU;YAAE,GAAG,OAAO;YAAE,QAAQ;QAAS;AAC3D","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/services/api/enrollments.api.ts"],"sourcesContent":["// API Service para Enrollments (Inscripciones del estudiante)\n\nimport { apiClient } from \"./client\"\nimport type { Enrollment, ProgramStructure } from \"@/types/enrollment\"\nimport type { ContinuePoint } from \"@/types/progress\"\n\nexport const enrollmentsApi = {\n  /**\n   * Obtener todas las inscripciones del estudiante actual\n   */\n  async getMy(studentId?: string): Promise<Enrollment[]> {\n    const query = studentId ? `?estudianteId=${encodeURIComponent(studentId)}` : \"\"\n    return apiClient.get<Enrollment[]>(`/student/enrollments${query}`)\n  },\n\n  /**\n   * Obtener detalle de una inscripción específica\n   */\n  async getById(enrollmentId: string): Promise<Enrollment> {\n    return apiClient.get<Enrollment>(`/student/enrollments/${enrollmentId}`)\n  },\n\n  /**\n   * Obtener la estructura completa del programa (fases, proof points, ejercicios)\n   */\n  async getStructure(enrollmentId: string): Promise<ProgramStructure> {\n    return apiClient.get<ProgramStructure>(\n      `/student/enrollments/${enrollmentId}/structure`\n    )\n  },\n\n  /**\n   * Obtener el punto de continuación (último ejercicio accedido)\n   */\n  async getContinuePoint(enrollmentId: string): Promise<ContinuePoint | null> {\n    return apiClient.get<ContinuePoint | null>(`/student/enrollments/${enrollmentId}/continue`)\n  },\n}\n"],"names":[],"mappings":"AAAA,8DAA8D;;;;;AAE9D;;AAIO,MAAM,iBAAiB;IAC5B;;GAEC,GACD,MAAM,OAAM,SAAkB;QAC5B,MAAM,QAAQ,YAAY,CAAC,cAAc,EAAE,mBAAmB,YAAY,GAAG;QAC7E,OAAO,sIAAS,CAAC,GAAG,CAAe,CAAC,oBAAoB,EAAE,OAAO;IACnE;IAEA;;GAEC,GACD,MAAM,SAAQ,YAAoB;QAChC,OAAO,sIAAS,CAAC,GAAG,CAAa,CAAC,qBAAqB,EAAE,cAAc;IACzE;IAEA;;GAEC,GACD,MAAM,cAAa,YAAoB;QACrC,OAAO,sIAAS,CAAC,GAAG,CAClB,CAAC,qBAAqB,EAAE,aAAa,UAAU,CAAC;IAEpD;IAEA;;GAEC,GACD,MAAM,kBAAiB,YAAoB;QACzC,OAAO,sIAAS,CAAC,GAAG,CAAuB,CAAC,qBAAqB,EAAE,aAAa,SAAS,CAAC;IAC5F;AACF","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/services/api/exercises.api.ts"],"sourcesContent":["// API Service para Exercises (Ejercicios/Componentes)\n\nimport { apiClient } from \"./client\"\nimport type { ExerciseInstance, ExerciseProgress, CompletionResult } from \"@/types/exercise\"\n\nexport interface StartExerciseParams {\n  estudianteId: string\n  cohorteId: string\n}\n\nexport interface SaveProgressParams {\n  estudianteId: string\n  cohorteId: string\n  datos?: Record<string, any>\n  porcentajeCompletitud?: number\n  tiempoInvertidoMinutos?: number\n}\n\nexport interface CompleteExerciseParams {\n  estudianteId: string\n  cohorteId: string\n  datos: Record<string, any>\n  tiempoInvertidoMinutos?: number\n  scoreFinal?: number\n}\n\nexport interface CompleteExerciseResponse {\n  id: string\n  estado: string\n  scoreFinal?: number\n  feedback?: string\n  completado: boolean\n  nextExerciseId?: string\n  proofPointCompleted?: boolean\n}\n\nexport const exercisesApi = {\n  /**\n   * Obtener instancia de ejercicio con su contenido\n   */\n  async getById(exerciseId: string): Promise<ExerciseInstance> {\n    return apiClient.get<ExerciseInstance>(`/student/exercises/${encodeURIComponent(exerciseId)}`)\n  },\n\n  /**\n   * Obtener solo el contenido del ejercicio (optimizado)\n   */\n  async getContent(exerciseId: string) {\n    return apiClient.get(`/student/exercises/${encodeURIComponent(exerciseId)}/content`)\n  },\n\n  /**\n   * Obtener progreso del ejercicio\n   */\n  async getProgress(exerciseId: string, params: { estudianteId: string; cohorteId: string }): Promise<ExerciseProgress> {\n    const query = `?estudianteId=${encodeURIComponent(params.estudianteId)}&cohorteId=${encodeURIComponent(params.cohorteId)}`\n    return apiClient.get<ExerciseProgress>(\n      `/student/exercises/${encodeURIComponent(exerciseId)}/progress${query}`\n    )\n  },\n\n  /**\n   * Marcar ejercicio como iniciado\n   */\n  async start(exerciseId: string, params: StartExerciseParams): Promise<ExerciseProgress> {\n    return apiClient.post<ExerciseProgress>(\n      `/student/exercises/${encodeURIComponent(exerciseId)}/start`,\n      params\n    )\n  },\n\n  /**\n   * Guardar progreso del ejercicio\n   */\n  async saveProgress(exerciseId: string, params: SaveProgressParams): Promise<ExerciseProgress> {\n    return apiClient.put<ExerciseProgress>(\n      `/student/exercises/${encodeURIComponent(exerciseId)}/progress`,\n      params\n    )\n  },\n\n  /**\n   * Completar ejercicio y obtener evaluación\n   */\n  async complete(exerciseId: string, params: CompleteExerciseParams): Promise<CompleteExerciseResponse> {\n    return apiClient.post<CompleteExerciseResponse>(\n      `/student/exercises/${encodeURIComponent(exerciseId)}/complete`,\n      params\n    )\n  },\n\n  /**\n   * Auto-guardar progreso (fire-and-forget)\n   */\n  async autoSave(exerciseId: string, params: SaveProgressParams): Promise<void> {\n    // No espera respuesta, solo envía\n    try {\n      await apiClient.put(`/student/exercises/${encodeURIComponent(exerciseId)}/progress`, params)\n    } catch (error) {\n      // Log pero no interrumpe la experiencia\n      console.warn(\"Auto-save failed:\", error)\n    }\n  },\n}\n"],"names":[],"mappings":"AAAA,sDAAsD;;;;;AAEtD;;AAkCO,MAAM,eAAe;IAC1B;;GAEC,GACD,MAAM,SAAQ,UAAkB;QAC9B,OAAO,sIAAS,CAAC,GAAG,CAAmB,CAAC,mBAAmB,EAAE,mBAAmB,aAAa;IAC/F;IAEA;;GAEC,GACD,MAAM,YAAW,UAAkB;QACjC,OAAO,sIAAS,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,mBAAmB,YAAY,QAAQ,CAAC;IACrF;IAEA;;GAEC,GACD,MAAM,aAAY,UAAkB,EAAE,MAAmD;QACvF,MAAM,QAAQ,CAAC,cAAc,EAAE,mBAAmB,OAAO,YAAY,EAAE,WAAW,EAAE,mBAAmB,OAAO,SAAS,GAAG;QAC1H,OAAO,sIAAS,CAAC,GAAG,CAClB,CAAC,mBAAmB,EAAE,mBAAmB,YAAY,SAAS,EAAE,OAAO;IAE3E;IAEA;;GAEC,GACD,MAAM,OAAM,UAAkB,EAAE,MAA2B;QACzD,OAAO,sIAAS,CAAC,IAAI,CACnB,CAAC,mBAAmB,EAAE,mBAAmB,YAAY,MAAM,CAAC,EAC5D;IAEJ;IAEA;;GAEC,GACD,MAAM,cAAa,UAAkB,EAAE,MAA0B;QAC/D,OAAO,sIAAS,CAAC,GAAG,CAClB,CAAC,mBAAmB,EAAE,mBAAmB,YAAY,SAAS,CAAC,EAC/D;IAEJ;IAEA;;GAEC,GACD,MAAM,UAAS,UAAkB,EAAE,MAA8B;QAC/D,OAAO,sIAAS,CAAC,IAAI,CACnB,CAAC,mBAAmB,EAAE,mBAAmB,YAAY,SAAS,CAAC,EAC/D;IAEJ;IAEA;;GAEC,GACD,MAAM,UAAS,UAAkB,EAAE,MAA0B;QAC3D,kCAAkC;QAClC,IAAI;YACF,MAAM,sIAAS,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,mBAAmB,YAAY,SAAS,CAAC,EAAE;QACvF,EAAE,OAAO,OAAO;YACd,wCAAwC;YACxC,QAAQ,IAAI,CAAC,qBAAqB;QACpC;IACF;AACF","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/services/api/progress.api.ts"],"sourcesContent":["// API Service para Progress Tracking\n\nimport { apiClient } from \"./client\"\nimport type { ProofPointProgress, ActivityLog, ContinuePoint } from \"@/types/progress\"\n\n/**\n * Types for Progress Summary\n */\nexport interface ProofPointProgressStats {\n  proofPointId: string\n  proofPointName: string\n  totalExercises: number\n  completedExercises: number\n  completionPercentage: number\n  averageScore: number | null\n  timeInvestedMinutes: number\n}\n\nexport interface CompletedExercise {\n  exerciseId: string\n  exerciseName: string\n  exerciseTemplate: string\n  completedAt: string\n  score: number | null\n  timeInvestedMinutes: number\n}\n\nexport interface StudentProgressSummary {\n  totalExercises: number\n  completedExercises: number\n  inProgressExercises: number\n  completionPercentage: number\n  totalTimeInvestedMinutes: number\n  averageScore: number | null\n  proofPointStats: ProofPointProgressStats[]\n  recentCompletedExercises: CompletedExercise[]\n}\n\nexport const progressApi = {\n  /**\n   * Obtener progreso de un proof point específico\n   */\n  async getProofPointProgress(proofPointId: string): Promise<ProofPointProgress> {\n    return apiClient.get<ProofPointProgress>(\n      `/student/proof-points/${proofPointId}/progress`\n    )\n  },\n\n  /**\n   * Auto-guardar progreso (debounced, fire-and-forget)\n   */\n  async autoSave(exerciseId: string, data: any): Promise<void> {\n    // No espera respuesta, solo envía\n    return apiClient.post(`/student/exercises/${exerciseId}/auto-save`, { data })\n      .catch((error) => {\n        // Log pero no interrumpe la experiencia\n        console.warn(\"Auto-save failed:\", error)\n      })\n  },\n\n  /**\n   * Obtener log de actividad reciente\n   */\n  async getActivityLog(limit: number = 10): Promise<ActivityLog[]> {\n    return apiClient.get<ActivityLog[]>(`/student/activity?limit=${limit}`)\n  },\n\n  /**\n   * Obtener punto de continuación global\n   */\n  async getContinuePoint(): Promise<ContinuePoint | null> {\n    return apiClient.get<ContinuePoint | null>(\"/student/continue\")\n  },\n\n  /**\n   * Marcar logro como visto (para no mostrar celebración repetida)\n   */\n  async markAchievementSeen(achievementId: string): Promise<void> {\n    return apiClient.post(`/student/achievements/${achievementId}/seen`, {})\n  },\n\n  /**\n   * Get student progress summary\n   */\n  async getProgressSummary(\n    estudianteId: string,\n    cohorteId: string\n  ): Promise<StudentProgressSummary> {\n    const query = new URLSearchParams({\n      estudianteId,\n      cohorteId,\n    })\n\n    return apiClient.get<StudentProgressSummary>(\n      `/student/progress/summary?${query.toString()}`\n    )\n  },\n}\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;AAErC;;AAoCO,MAAM,cAAc;IACzB;;GAEC,GACD,MAAM,uBAAsB,YAAoB;QAC9C,OAAO,sIAAS,CAAC,GAAG,CAClB,CAAC,sBAAsB,EAAE,aAAa,SAAS,CAAC;IAEpD;IAEA;;GAEC,GACD,MAAM,UAAS,UAAkB,EAAE,IAAS;QAC1C,kCAAkC;QAClC,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,mBAAmB,EAAE,WAAW,UAAU,CAAC,EAAE;YAAE;QAAK,GACxE,KAAK,CAAC,CAAC;YACN,wCAAwC;YACxC,QAAQ,IAAI,CAAC,qBAAqB;QACpC;IACJ;IAEA;;GAEC,GACD,MAAM,gBAAe,QAAgB,EAAE;QACrC,OAAO,sIAAS,CAAC,GAAG,CAAgB,CAAC,wBAAwB,EAAE,OAAO;IACxE;IAEA;;GAEC,GACD,MAAM;QACJ,OAAO,sIAAS,CAAC,GAAG,CAAuB;IAC7C;IAEA;;GAEC,GACD,MAAM,qBAAoB,aAAqB;QAC7C,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,sBAAsB,EAAE,cAAc,KAAK,CAAC,EAAE,CAAC;IACxE;IAEA;;GAEC,GACD,MAAM,oBACJ,YAAoB,EACpB,SAAiB;QAEjB,MAAM,QAAQ,IAAI,gBAAgB;YAChC;YACA;QACF;QAEA,OAAO,sIAAS,CAAC,GAAG,CAClB,CAAC,0BAA0B,EAAE,MAAM,QAAQ,IAAI;IAEnD;AACF","debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/services/api/auth.api.ts"],"sourcesContent":["// API Service para Authentication\n\nimport { apiClient } from \"./client\"\n\nexport interface LoginCredentials {\n  email: string\n  password: string\n}\n\nexport interface RegisterData {\n  email: string\n  password: string\n  nombre: string\n  apellido: string\n}\n\nexport interface AuthResponse {\n  token: string\n  user: {\n    id: string\n    email: string\n    nombre: string\n    apellido: string\n    rol: \"estudiante\"\n  }\n}\n\nexport interface User {\n  id: string\n  email: string\n  nombre: string\n  apellido: string\n  rol: \"estudiante\"\n  avatar?: string\n}\n\nexport const authApi = {\n  /**\n   * Iniciar sesión\n   */\n  async login(credentials: LoginCredentials): Promise<AuthResponse> {\n    return apiClient.post<AuthResponse>(\"/auth/login\", credentials)\n  },\n\n  /**\n   * Registrarse\n   */\n  async register(data: RegisterData): Promise<AuthResponse> {\n    return apiClient.post<AuthResponse>(\"/auth/register\", data)\n  },\n\n  /**\n   * Cerrar sesión\n   */\n  async logout(): Promise<void> {\n    return apiClient.post(\"/auth/logout\", {})\n  },\n\n  /**\n   * Obtener perfil del usuario actual\n   */\n  async getProfile(): Promise<User> {\n    return apiClient.get<User>(\"/auth/me\")\n  },\n\n  /**\n   * Actualizar perfil\n   */\n  async updateProfile(data: Partial<User>): Promise<User> {\n    return apiClient.patch<User>(\"/auth/me\", data)\n  },\n\n  /**\n   * Cambiar contraseña\n   */\n  async changePassword(oldPassword: string, newPassword: string): Promise<void> {\n    return apiClient.post(\"/auth/change-password\", { oldPassword, newPassword })\n  },\n\n  /**\n   * Solicitar recuperación de contraseña\n   */\n  async requestPasswordReset(email: string): Promise<void> {\n    return apiClient.post(\"/auth/forgot-password\", { email })\n  },\n\n  /**\n   * Resetear contraseña con token\n   */\n  async resetPassword(token: string, newPassword: string): Promise<void> {\n    return apiClient.post(\"/auth/reset-password\", { token, newPassword })\n  },\n}\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAElC;;AAkCO,MAAM,UAAU;IACrB;;GAEC,GACD,MAAM,OAAM,WAA6B;QACvC,OAAO,sIAAS,CAAC,IAAI,CAAe,eAAe;IACrD;IAEA;;GAEC,GACD,MAAM,UAAS,IAAkB;QAC/B,OAAO,sIAAS,CAAC,IAAI,CAAe,kBAAkB;IACxD;IAEA;;GAEC,GACD,MAAM;QACJ,OAAO,sIAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC;IACzC;IAEA;;GAEC,GACD,MAAM;QACJ,OAAO,sIAAS,CAAC,GAAG,CAAO;IAC7B;IAEA;;GAEC,GACD,MAAM,eAAc,IAAmB;QACrC,OAAO,sIAAS,CAAC,KAAK,CAAO,YAAY;IAC3C;IAEA;;GAEC,GACD,MAAM,gBAAe,WAAmB,EAAE,WAAmB;QAC3D,OAAO,sIAAS,CAAC,IAAI,CAAC,yBAAyB;YAAE;YAAa;QAAY;IAC5E;IAEA;;GAEC,GACD,MAAM,sBAAqB,KAAa;QACtC,OAAO,sIAAS,CAAC,IAAI,CAAC,yBAAyB;YAAE;QAAM;IACzD;IAEA;;GAEC,GACD,MAAM,eAAc,KAAa,EAAE,WAAmB;QACpD,OAAO,sIAAS,CAAC,IAAI,CAAC,wBAAwB;YAAE;YAAO;QAAY;IACrE;AACF","debugId":null}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/services/api/proof-points.api.ts"],"sourcesContent":["// API Service para Proof Points\n\nimport { apiClient } from \"./client\"\n\nexport interface PublishedExercise {\n  id: string\n  template: string\n  proofPoint: string\n  nombre: string\n  descripcionBreve?: string\n  configuracionPersonalizada: Record<string, any>\n  orden: number\n  duracionEstimadaMinutos: number\n  estadoContenido: string\n  contenidoActual?: string\n  esObligatorio: boolean\n  createdAt: string\n  updatedAt: string\n}\n\nexport const proofPointsApi = {\n  /**\n   * Obtener ejercicios publicados de un proof point\n   */\n  async getPublishedExercises(proofPointId: string): Promise<PublishedExercise[]> {\n    return apiClient.get<PublishedExercise[]>(\n      `/student/proof-points/${encodeURIComponent(proofPointId)}/exercises`\n    )\n  },\n}\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAEhC;;AAkBO,MAAM,iBAAiB;IAC5B;;GAEC,GACD,MAAM,uBAAsB,YAAoB;QAC9C,OAAO,sIAAS,CAAC,GAAG,CAClB,CAAC,sBAAsB,EAAE,mBAAmB,cAAc,UAAU,CAAC;IAEzE;AACF","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/services/api/index.ts"],"sourcesContent":["// API Services - Student App\n// Exportación centralizada de todos los servicios API\n\nexport { apiClient, APIError } from \"./client\"\nexport { enrollmentsApi } from \"./enrollments.api\"\nexport { exercisesApi } from \"./exercises.api\"\nexport { progressApi } from \"./progress.api\"\nexport { authApi } from \"./auth.api\"\nexport { proofPointsApi } from \"./proof-points.api\"\nexport type { LoginCredentials, RegisterData, AuthResponse, User } from \"./auth.api\"\nexport type { PublishedExercise } from \"./proof-points.api\"\nexport type {\n  StartExerciseParams,\n  SaveProgressParams,\n  CompleteExerciseParams,\n  CompleteExerciseResponse\n} from \"./exercises.api\"\n"],"names":[],"mappings":"AAAA,6BAA6B;AAC7B,sDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,kPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,4SAAI,GAAG;IAE9B,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 506, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/progress.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ProgressPrimitive from '@radix-ui/react-progress'\n\nimport { cn } from '@/lib/utils'\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        'bg-primary/20 relative h-2 w-full overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,6WAAC,6XAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6WAAC,kYAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE","debugId":null}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,kPAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,4SAAI,GAAG;IAE9B,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 590, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/base/ExercisePlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, ReactNode } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  ChevronLeft,\n  ChevronRight,\n  Check,\n  Save,\n  RotateCcw,\n  MessageSquare,\n  X,\n  Sparkles\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface ExercisePlayerProps {\n  exerciseId: string\n  exerciseName: string\n  exerciseDescription?: string\n  proofPointName: string\n  totalSteps?: number\n  currentStep?: number\n  estimatedMinutes?: number\n  onSave?: (data: any) => Promise<void>\n  onComplete?: (data: any) => Promise<void>\n  onPrevious?: () => void\n  onNext?: () => void\n  onExit?: () => void\n  children: ReactNode\n  showAIAssistant?: boolean\n  aiContext?: string\n}\n\nexport function ExercisePlayer({\n  exerciseId,\n  exerciseName,\n  exerciseDescription,\n  proofPointName,\n  totalSteps = 1,\n  currentStep = 1,\n  estimatedMinutes,\n  onSave,\n  onComplete,\n  onPrevious,\n  onNext,\n  onExit,\n  children,\n  showAIAssistant = false,\n  aiContext,\n}: ExercisePlayerProps) {\n  const [isSaving, setIsSaving] = useState(false)\n  const [isCompleting, setIsCompleting] = useState(false)\n  const [showAI, setShowAI] = useState(false)\n  const [aiMessages, setAiMessages] = useState<Array<{ role: 'user' | 'assistant'; content: string }>>([])\n  const [aiInput, setAiInput] = useState(\"\")\n\n  const progress = (currentStep / totalSteps) * 100\n  const isLastStep = currentStep === totalSteps\n\n  const handleSave = async () => {\n    if (!onSave) return\n    setIsSaving(true)\n    try {\n      // The parent component should pass the exercise data\n      await onSave({})\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleComplete = async () => {\n    if (!onComplete) return\n    setIsCompleting(true)\n    try {\n      await onComplete({})\n    } finally {\n      setIsCompleting(false)\n    }\n  }\n\n  const handleAIMessage = async () => {\n    if (!aiInput.trim()) return\n\n    const userMessage = aiInput\n    setAiInput(\"\")\n    setAiMessages(prev => [...prev, { role: 'user', content: userMessage }])\n\n    // TODO: Call AI API\n    // For now, simulate response\n    setTimeout(() => {\n      setAiMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Estoy aquí para ayudarte. ¿Qué necesitas?'\n      }])\n    }, 1000)\n  }\n\n  return (\n    <div className=\"flex h-screen flex-col bg-background\">\n      {/* Header */}\n      <header className=\"sticky top-0 z-10 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container flex h-16 items-center justify-between px-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={onExit}>\n              <X className=\"h-5 w-5\" />\n            </Button>\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <h1 className=\"text-lg font-semibold\">{exerciseName}</h1>\n                {totalSteps > 1 && (\n                  <Badge variant=\"secondary\">\n                    Paso {currentStep} de {totalSteps}\n                  </Badge>\n                )}\n              </div>\n              <p className=\"text-sm text-muted-foreground\">{proofPointName}</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            {estimatedMinutes && (\n              <Badge variant=\"outline\">\n                ⏱ {estimatedMinutes} min\n              </Badge>\n            )}\n            {showAIAssistant && (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setShowAI(!showAI)}\n                className={cn(showAI && \"bg-primary/10\")}\n              >\n                <Sparkles className=\"h-4 w-4 mr-2\" />\n                Asistente IA\n              </Button>\n            )}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleSave}\n              disabled={isSaving || !onSave}\n            >\n              {isSaving ? (\n                <>\n                  <RotateCcw className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Guardando...\n                </>\n              ) : (\n                <>\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  Guardar\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n\n        {/* Progress Bar */}\n        <Progress value={progress} className=\"h-1 rounded-none\" />\n      </header>\n\n      {/* Main Content */}\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Exercise Content */}\n        <div className={cn(\n          \"flex-1 overflow-y-auto\",\n          showAI && \"lg:mr-96\"\n        )}>\n          <div className=\"container max-w-4xl py-8 px-4\">\n            {exerciseDescription && (\n              <Card className=\"mb-6 p-4 bg-muted/50\">\n                <p className=\"text-sm text-muted-foreground\">{exerciseDescription}</p>\n              </Card>\n            )}\n            {children}\n          </div>\n        </div>\n\n        {/* AI Assistant Sidebar */}\n        {showAIAssistant && showAI && (\n          <aside className=\"fixed right-0 top-16 bottom-16 w-96 border-l bg-background overflow-hidden flex flex-col\">\n            <div className=\"p-4 border-b\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h3 className=\"font-semibold flex items-center gap-2\">\n                  <Sparkles className=\"h-4 w-4 text-primary\" />\n                  Asistente IA\n                </h3>\n                <Button variant=\"ghost\" size=\"icon\" onClick={() => setShowAI(false)}>\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              </div>\n              <p className=\"text-xs text-muted-foreground\">\n                Pregúntame cualquier cosa sobre este ejercicio\n              </p>\n            </div>\n\n            {/* Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {aiMessages.length === 0 && (\n                <div className=\"text-center text-sm text-muted-foreground py-8\">\n                  Haz una pregunta para comenzar\n                </div>\n              )}\n              {aiMessages.map((msg, idx) => (\n                <div\n                  key={idx}\n                  className={cn(\n                    \"flex gap-2\",\n                    msg.role === 'user' ? \"justify-end\" : \"justify-start\"\n                  )}\n                >\n                  <div\n                    className={cn(\n                      \"rounded-lg px-4 py-2 max-w-[80%]\",\n                      msg.role === 'user'\n                        ? \"bg-primary text-primary-foreground\"\n                        : \"bg-muted\"\n                    )}\n                  >\n                    <p className=\"text-sm\">{msg.content}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Input */}\n            <div className=\"p-4 border-t\">\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Escribe tu pregunta...\"\n                  value={aiInput}\n                  onChange={(e) => setAiInput(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleAIMessage()}\n                  className=\"flex-1 px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\n                />\n                <Button size=\"sm\" onClick={handleAIMessage}>\n                  <MessageSquare className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          </aside>\n        )}\n      </div>\n\n      {/* Footer */}\n      <footer className=\"sticky bottom-0 z-10 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container flex h-16 items-center justify-between px-4\">\n          <Button\n            variant=\"outline\"\n            onClick={onPrevious}\n            disabled={!onPrevious}\n          >\n            <ChevronLeft className=\"h-4 w-4 mr-2\" />\n            Anterior\n          </Button>\n\n          <div className=\"text-sm text-muted-foreground\">\n            {Math.round(progress)}% completado\n          </div>\n\n          {isLastStep ? (\n            <Button\n              onClick={handleComplete}\n              disabled={isCompleting || !onComplete}\n            >\n              {isCompleting ? (\n                <>\n                  <RotateCcw className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Completando...\n                </>\n              ) : (\n                <>\n                  <Check className=\"h-4 w-4 mr-2\" />\n                  Completar\n                </>\n              )}\n            </Button>\n          ) : (\n            <Button onClick={onNext} disabled={!onNext}>\n              Siguiente\n              <ChevronRight className=\"h-4 w-4 ml-2\" />\n            </Button>\n          )}\n        </div>\n      </footer>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/scroll-area.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\ninterface ScrollAreaProps extends React.HTMLAttributes<HTMLDivElement> {\n  viewportClassName?: string\n}\n\nconst ScrollArea = React.forwardRef<HTMLDivElement, ScrollAreaProps>(\n  ({ className, viewportClassName, children, ...props }, ref) => {\n    return (\n      <div ref={ref} className={cn('relative', className)} {...props}>\n        <div\n          data-slot=\"scroll-area-viewport\"\n          className={cn(\n            'scroll-area flex max-h-full flex-col overflow-auto pr-1',\n            viewportClassName,\n          )}\n        >\n          {children}\n        </div>\n      </div>\n    )\n  },\n)\nScrollArea.displayName = 'ScrollArea'\n\nexport { ScrollArea }\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAUA,MAAM,2BAAa,kVAAgB,CACjC,CAAC,EAAE,SAAS,EAAE,iBAAiB,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACrD,qBACE,6WAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;kBAC5D,cAAA,6WAAC;YACC,aAAU;YACV,WAAW,IAAA,kHAAE,EACX,2DACA;sBAGD;;;;;;;;;;;AAIT;AAEF,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1199, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/hooks/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":";;;;;;;;AAEA,sCAAsC;AACtC;AAHA;;AAOA,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAS3B,MAAM,cAAc;IAClB,WAAW;IACX,cAAc;IACd,eAAe;IACf,cAAc;AAChB;AAEA,IAAI,QAAQ;AAEZ,SAAS;IACP,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,gBAAgB;IAC7C,OAAO,MAAM,QAAQ;AACvB;AA0BA,MAAM,gBAAgB,IAAI;AAE1B,MAAM,mBAAmB,CAAC;IACxB,IAAI,cAAc,GAAG,CAAC,UAAU;QAC9B;IACF;IAEA,MAAM,UAAU,WAAW;QACzB,cAAc,MAAM,CAAC;QACrB,SAAS;YACP,MAAM;YACN,SAAS;QACX;IACF,GAAG;IAEH,cAAc,GAAG,CAAC,SAAS;AAC7B;AAEO,MAAM,UAAU,CAAC,OAAc;IACpC,OAAQ,OAAO,IAAI;QACjB,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ;oBAAC,OAAO,KAAK;uBAAK,MAAM,MAAM;iBAAC,CAAC,KAAK,CAAC,GAAG;YACnD;QAEF,KAAK;YACH,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE,GAAG,OAAO,KAAK;oBAAC,IAAI;YAE3D;QAEF,KAAK;YAAiB;gBACpB,MAAM,EAAE,OAAO,EAAE,GAAG;gBAEpB,IAAI,SAAS;oBACX,iBAAiB;gBACnB,OAAO;oBACL,MAAM,MAAM,CAAC,OAAO,CAAC,CAAC;wBACpB,iBAAiB,MAAM,EAAE;oBAC3B;gBACF;gBAEA,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACxB,EAAE,EAAE,KAAK,WAAW,YAAY,YAC5B;4BACE,GAAG,CAAC;4BACJ,MAAM;wBACR,IACA;gBAER;YACF;QACA,KAAK;YACH,IAAI,OAAO,OAAO,KAAK,WAAW;gBAChC,OAAO;oBACL,GAAG,KAAK;oBACR,QAAQ,EAAE;gBACZ;YACF;YACA,OAAO;gBACL,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;YAC5D;IACJ;AACF;AAEA,MAAM,YAA2C,EAAE;AAEnD,IAAI,cAAqB;IAAE,QAAQ,EAAE;AAAC;AAEtC,SAAS,SAAS,MAAc;IAC9B,cAAc,QAAQ,aAAa;IACnC,UAAU,OAAO,CAAC,CAAC;QACjB,SAAS;IACX;AACF;AAIA,SAAS,MAAM,EAAE,GAAG,OAAc;IAChC,MAAM,KAAK;IAEX,MAAM,SAAS,CAAC,QACd,SAAS;YACP,MAAM;YACN,OAAO;gBAAE,GAAG,KAAK;gBAAE;YAAG;QACxB;IACF,MAAM,UAAU,IAAM,SAAS;YAAE,MAAM;YAAiB,SAAS;QAAG;IAEpE,SAAS;QACP,MAAM;QACN,OAAO;YACL,GAAG,KAAK;YACR;YACA,MAAM;YACN,cAAc,CAAC;gBACb,IAAI,CAAC,MAAM;YACb;QACF;IACF;IAEA,OAAO;QACL,IAAI;QACJ;QACA;IACF;AACF;AAEA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,gVAAc,CAAQ;IAEhD,iVAAe,CAAC;QACd,UAAU,IAAI,CAAC;QACf,OAAO;YACL,MAAM,QAAQ,UAAU,OAAO,CAAC;YAChC,IAAI,QAAQ,CAAC,GAAG;gBACd,UAAU,MAAM,CAAC,OAAO;YAC1B;QACF;IACF,GAAG;QAAC;KAAM;IAEV,OAAO;QACL,GAAG,KAAK;QACR;QACA,SAAS,CAAC,UAAqB,SAAS;gBAAE,MAAM;gBAAiB;YAAQ;IAC3E;AACF","debugId":null}},
    {"offset": {"line": 1354, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/base/ExercisePlayerEnhanced.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback, ReactNode, useRef } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport {\n  ChevronLeft,\n  ChevronRight,\n  Check,\n  Save,\n  RotateCcw,\n  MessageSquare,\n  X,\n  Sparkles,\n  BookOpen,\n  Clock,\n  Send,\n  CheckCircle2,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { exercisesApi, type SaveProgressParams, type CompleteExerciseParams } from \"@/services/api\"\nimport { useToast } from \"@/hooks/use-toast\"\n\nexport interface Section {\n  id: string\n  title: string\n  completed?: boolean\n}\n\nexport interface ExercisePlayerEnhancedProps {\n  exerciseId: string\n  exerciseName: string\n  exerciseDescription?: string\n  proofPointName: string\n  estudianteId: string // Required for progress tracking\n  cohorteId: string // Required for progress tracking\n  sections?: Section[] // For left outline\n  currentSectionId?: string\n  onSectionChange?: (sectionId: string) => void\n  totalSteps?: number\n  currentStep?: number\n  estimatedMinutes?: number\n  getData?: () => any // Function to get current exercise data\n  onComplete?: (result: any) => Promise<void>\n  onExit?: () => void\n  children: ReactNode\n  aiContext?: string\n}\n\nexport function ExercisePlayerEnhanced({\n  exerciseId,\n  exerciseName,\n  exerciseDescription,\n  proofPointName,\n  estudianteId,\n  cohorteId,\n  sections = [],\n  currentSectionId,\n  onSectionChange,\n  totalSteps = 1,\n  currentStep = 1,\n  estimatedMinutes,\n  getData,\n  onComplete,\n  onExit,\n  children,\n  aiContext,\n}: ExercisePlayerEnhancedProps) {\n  const { toast } = useToast()\n  const [isSaving, setIsSaving] = useState(false)\n  const [isCompleting, setIsCompleting] = useState(false)\n  const [lastSaved, setLastSaved] = useState<Date | null>(null)\n  const [timeSpent, setTimeSpent] = useState(0)\n  const [aiMessages, setAiMessages] = useState<Array<{ role: 'user' | 'assistant'; content: string }>>([])\n  const [aiInput, setAiInput] = useState(\"\")\n  const [aiLoading, setAiLoading] = useState(false)\n  const autoSaveTimerRef = useRef<NodeJS.Timeout | undefined>(undefined)\n  const timeTrackerRef = useRef<NodeJS.Timeout | undefined>(undefined)\n  const startTimeRef = useRef<Date>(new Date())\n\n  const progress = (currentStep / totalSteps) * 100\n  const isLastStep = currentStep === totalSteps\n\n  // Start exercise on mount\n  useEffect(() => {\n    const startExercise = async () => {\n      try {\n        await exercisesApi.start(exerciseId, {\n          estudianteId,\n          cohorteId,\n        })\n      } catch (error: any) {\n        console.error('Failed to start exercise:', error)\n        // Don't block if already started\n      }\n    }\n\n    startExercise()\n    startTimeRef.current = new Date()\n\n    // Cleanup on unmount\n    return () => {\n      if (autoSaveTimerRef.current) {\n        clearInterval(autoSaveTimerRef.current)\n      }\n      if (timeTrackerRef.current) {\n        clearInterval(timeTrackerRef.current)\n      }\n    }\n  }, [exerciseId, estudianteId, cohorteId])\n\n  // Track time spent\n  useEffect(() => {\n    timeTrackerRef.current = setInterval(() => {\n      const now = new Date()\n      const minutes = Math.floor((now.getTime() - startTimeRef.current.getTime()) / 1000 / 60)\n      setTimeSpent(minutes)\n    }, 60000) // Update every minute\n\n    return () => {\n      if (timeTrackerRef.current) {\n        clearInterval(timeTrackerRef.current)\n      }\n    }\n  }, [])\n\n  // Auto-save every 30 seconds\n  useEffect(() => {\n    autoSaveTimerRef.current = setInterval(() => {\n      handleAutoSave()\n    }, 30000) // 30 seconds\n\n    return () => {\n      if (autoSaveTimerRef.current) {\n        clearInterval(autoSaveTimerRef.current)\n      }\n    }\n  }, [progress, timeSpent])\n\n  const handleAutoSave = useCallback(async () => {\n    if (!getData) return\n\n    try {\n      const data = getData()\n      const params: SaveProgressParams = {\n        estudianteId,\n        cohorteId,\n        datos: data,\n        porcentajeCompletitud: Math.round(progress),\n        tiempoInvertidoMinutos: timeSpent,\n      }\n\n      // Fire-and-forget auto-save\n      await exercisesApi.autoSave(exerciseId, params)\n      setLastSaved(new Date())\n    } catch (error) {\n      console.warn('Auto-save failed:', error)\n    }\n  }, [exerciseId, estudianteId, cohorteId, getData, progress, timeSpent])\n\n  const handleManualSave = async () => {\n    if (!getData) return\n\n    setIsSaving(true)\n    try {\n      const data = getData()\n      const params: SaveProgressParams = {\n        estudianteId,\n        cohorteId,\n        datos: data,\n        porcentajeCompletitud: Math.round(progress),\n        tiempoInvertidoMinutos: timeSpent,\n      }\n\n      await exercisesApi.saveProgress(exerciseId, params)\n      setLastSaved(new Date())\n\n      toast({\n        title: \"Progreso guardado\",\n        description: \"Tu trabajo se guardó exitosamente\",\n      })\n    } catch (error: any) {\n      toast({\n        title: \"Error al guardar\",\n        description: error.message || \"No se pudo guardar el progreso\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handleComplete = async () => {\n    if (!getData) return\n\n    setIsCompleting(true)\n    try {\n      const data = getData()\n      const params: CompleteExerciseParams = {\n        estudianteId,\n        cohorteId,\n        datos: data,\n        tiempoInvertidoMinutos: timeSpent,\n      }\n\n      const result = await exercisesApi.complete(exerciseId, params)\n\n      toast({\n        title: \"¡Ejercicio completado!\",\n        description: result.feedback || \"Has completado el ejercicio exitosamente\",\n      })\n\n      if (onComplete) {\n        await onComplete(result)\n      }\n    } catch (error: any) {\n      toast({\n        title: \"Error al completar\",\n        description: error.message || \"No se pudo completar el ejercicio\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setIsCompleting(false)\n    }\n  }\n\n  const handleAIMessage = async () => {\n    if (!aiInput.trim()) return\n\n    const userMessage = aiInput\n    setAiInput(\"\")\n    setAiMessages(prev => [...prev, { role: 'user', content: userMessage }])\n    setAiLoading(true)\n\n    try {\n      // TODO: Call actual AI API with context\n      // For now, simulate response\n      await new Promise(resolve => setTimeout(resolve, 1000))\n\n      const contextInfo = aiContext || `Estás trabajando en: ${exerciseName}`\n      const response = `Entiendo tu pregunta sobre \"${userMessage}\". ${contextInfo}. ¿Puedo ayudarte con algo más específico?`\n\n      setAiMessages(prev => [...prev, {\n        role: 'assistant',\n        content: response\n      }])\n    } catch (error) {\n      console.error('AI message failed:', error)\n    } finally {\n      setAiLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"flex h-screen flex-col bg-background\">\n      {/* Header */}\n      <header className=\"sticky top-0 z-10 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container flex h-16 items-center justify-between px-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={onExit}>\n              <X className=\"h-5 w-5\" />\n            </Button>\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <h1 className=\"text-lg font-semibold\">{exerciseName}</h1>\n                {totalSteps > 1 && (\n                  <Badge variant=\"secondary\">\n                    Paso {currentStep} de {totalSteps}\n                  </Badge>\n                )}\n              </div>\n              <p className=\"text-sm text-muted-foreground\">{proofPointName}</p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            {estimatedMinutes && (\n              <Badge variant=\"outline\">\n                <Clock className=\"h-3 w-3 mr-1\" />\n                {estimatedMinutes} min\n              </Badge>\n            )}\n            {timeSpent > 0 && (\n              <Badge variant=\"outline\">\n                Tiempo: {timeSpent} min\n              </Badge>\n            )}\n            {lastSaved && (\n              <span className=\"text-xs text-muted-foreground\">\n                Guardado {new Date(lastSaved).toLocaleTimeString()}\n              </span>\n            )}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleManualSave}\n              disabled={isSaving}\n            >\n              {isSaving ? (\n                <>\n                  <RotateCcw className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Guardando...\n                </>\n              ) : (\n                <>\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  Guardar\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n\n        {/* Progress Bar */}\n        <Progress value={progress} className=\"h-1 rounded-none\" />\n      </header>\n\n      {/* Main Content - 3 Column Layout */}\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Left Sidebar - Outline (10%) */}\n        {sections.length > 0 && (\n          <aside className=\"w-64 border-r bg-muted/30\">\n            <ScrollArea className=\"h-full\">\n              <div className=\"p-4\">\n                <h3 className=\"font-semibold text-sm mb-3 flex items-center gap-2\">\n                  <BookOpen className=\"h-4 w-4\" />\n                  Contenido\n                </h3>\n                <div className=\"space-y-1\">\n                  {sections.map((section, idx) => (\n                    <button\n                      key={section.id}\n                      onClick={() => onSectionChange?.(section.id)}\n                      className={cn(\n                        \"w-full text-left px-3 py-2 rounded-md text-sm transition-colors\",\n                        currentSectionId === section.id\n                          ? \"bg-primary text-primary-foreground\"\n                          : \"hover:bg-muted\",\n                        section.completed && \"opacity-75\"\n                      )}\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-xs text-muted-foreground\">{idx + 1}.</span>\n                        <span className=\"flex-1\">{section.title}</span>\n                        {section.completed && (\n                          <CheckCircle2 className=\"h-3 w-3 text-green-600\" />\n                        )}\n                      </div>\n                    </button>\n                  ))}\n                </div>\n\n                {/* Progress Summary */}\n                <div className=\"mt-6 p-3 bg-muted rounded-md\">\n                  <div className=\"text-xs text-muted-foreground mb-2\">Progreso</div>\n                  <Progress value={progress} className=\"h-2 mb-2\" />\n                  <div className=\"text-xs font-medium\">{Math.round(progress)}% completado</div>\n                </div>\n              </div>\n            </ScrollArea>\n          </aside>\n        )}\n\n        {/* Center - Main Content (60%) */}\n        <div className=\"flex-1 overflow-y-auto\">\n          <div className=\"container max-w-4xl py-8 px-6\">\n            {exerciseDescription && (\n              <Card className=\"mb-6 p-4 bg-primary/5 border-primary/20\">\n                <p className=\"text-sm\">{exerciseDescription}</p>\n              </Card>\n            )}\n            {children}\n          </div>\n        </div>\n\n        {/* Right Sidebar - AI Assistant (30%) */}\n        <aside className=\"w-96 border-l bg-muted/30 flex flex-col\">\n          <div className=\"p-4 border-b\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Sparkles className=\"h-4 w-4 text-primary\" />\n              <h3 className=\"font-semibold\">Asistente IA</h3>\n            </div>\n            {aiContext && (\n              <p className=\"text-xs text-muted-foreground\">\n                Contexto: {aiContext}\n              </p>\n            )}\n          </div>\n\n          {/* Messages */}\n          <ScrollArea className=\"flex-1 p-4\">\n            <div className=\"space-y-4\">\n              {aiMessages.length === 0 && (\n                <div className=\"text-center py-8\">\n                  <MessageSquare className=\"h-12 w-12 text-muted-foreground mx-auto mb-3\" />\n                  <p className=\"text-sm text-muted-foreground mb-4\">\n                    Haz una pregunta sobre este ejercicio\n                  </p>\n                  <div className=\"space-y-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"w-full justify-start text-left text-xs\"\n                      onClick={() => setAiInput(\"¿Puedes explicarme esto mejor?\")}\n                    >\n                      ¿Puedes explicarme esto mejor?\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"w-full justify-start text-left text-xs\"\n                      onClick={() => setAiInput(\"Dame un ejemplo práctico\")}\n                    >\n                      Dame un ejemplo práctico\n                    </Button>\n                  </div>\n                </div>\n              )}\n              {aiMessages.map((msg, idx) => (\n                <div\n                  key={idx}\n                  className={cn(\n                    \"flex gap-2\",\n                    msg.role === 'user' ? \"justify-end\" : \"justify-start\"\n                  )}\n                >\n                  <div\n                    className={cn(\n                      \"rounded-lg px-4 py-2 max-w-[85%]\",\n                      msg.role === 'user'\n                        ? \"bg-primary text-primary-foreground\"\n                        : \"bg-background border\"\n                    )}\n                  >\n                    <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\n                  </div>\n                </div>\n              ))}\n              {aiLoading && (\n                <div className=\"flex gap-2 justify-start\">\n                  <div className=\"bg-background border rounded-lg px-4 py-2\">\n                    <div className=\"flex gap-1\">\n                      <div className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce\" style={{ animationDelay: '0ms' }} />\n                      <div className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce\" style={{ animationDelay: '150ms' }} />\n                      <div className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce\" style={{ animationDelay: '300ms' }} />\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </ScrollArea>\n\n          {/* Input */}\n          <div className=\"p-4 border-t\">\n            <div className=\"flex gap-2\">\n              <Textarea\n                placeholder=\"Escribe tu pregunta...\"\n                value={aiInput}\n                onChange={(e) => setAiInput(e.target.value)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault()\n                    handleAIMessage()\n                  }\n                }}\n                className=\"min-h-[60px] resize-none\"\n              />\n              <Button size=\"icon\" onClick={handleAIMessage} disabled={aiLoading || !aiInput.trim()}>\n                <Send className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </aside>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"sticky bottom-0 z-10 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container flex h-16 items-center justify-between px-4\">\n          <Button variant=\"outline\" onClick={onExit}>\n            <ChevronLeft className=\"h-4 w-4 mr-2\" />\n            Salir\n          </Button>\n\n          <div className=\"text-sm text-muted-foreground\">\n            {Math.round(progress)}% completado\n          </div>\n\n          <Button\n            onClick={handleComplete}\n            disabled={isCompleting}\n            className=\"bg-green-600 hover:bg-green-700\"\n          >\n            {isCompleting ? (\n              <>\n                <RotateCcw className=\"h-4 w-4 mr-2 animate-spin\" />\n                Completando...\n              </>\n            ) : (\n              <>\n                <Check className=\"h-4 w-4 mr-2\" />\n                Completar Ejercicio\n              </>\n            )}\n          </Button>\n        </div>\n      </footer>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2262, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/checkbox.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox'\nimport { CheckIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6WAAC,6XAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,6WAAC,kYAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,6WAAC,ySAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B","debugId":null}},
    {"offset": {"line": 2306, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,2BAAa,kVAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6WAAC,sYAAwB;QACvB,WAAW,IAAA,kHAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;AACA,WAAW,WAAW,GAAG,sYAAwB,CAAC,WAAW;AAE7D,MAAM,+BAAiB,kVAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6WAAC,sYAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4OACA;QAED,GAAG,KAAK;kBAET,cAAA,6WAAC,2YAA6B;YAAC,WAAU;sBACvC,cAAA,6WAAC,oSAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;AACA,eAAe,WAAW,GAAG,sYAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2366, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6WAAC,6XAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2393, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/separator.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SeparatorPrimitive from '@radix-ui/react-separator'\n\nimport { cn } from '@/lib/utils'\n\nfunction Separator({\n  className,\n  orientation = 'horizontal',\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6WAAC,8XAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,kHAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2422, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/leccion-interactiva/LeccionInteractivaPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { BookOpen, Video, FileText, CheckCircle2, Circle } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\n// Types based on AI-generated content structure\ninterface LeccionSection {\n  tipo: \"texto\" | \"video\" | \"imagen\" | \"lista\" | \"concepto_clave\"\n  contenido: string\n  titulo?: string\n  url?: string // for video/image\n  items?: string[] // for lists\n}\n\ninterface QuizQuestion {\n  pregunta: string\n  tipo: \"multiple_choice\" | \"verdadero_falso\" | \"checkbox\"\n  opciones: string[]\n  respuesta_correcta: string | string[]\n  explicacion?: string\n}\n\ninterface LeccionContent {\n  titulo: string\n  objetivos: string[]\n  secciones: LeccionSection[]\n  conceptos_clave: string[]\n  quiz?: QuizQuestion[]\n  recursos_adicionales?: Array<{ titulo: string; url: string; tipo: string }>\n}\n\ninterface LeccionInteractivaPlayerProps {\n  exerciseId: string\n  exerciseName: string\n  proofPointName: string\n  content: LeccionContent\n  onSave: (data: any) => Promise<void>\n  onComplete: (data: any) => Promise<void>\n  onExit: () => void\n}\n\nexport function LeccionInteractivaPlayer({\n  exerciseId,\n  exerciseName,\n  proofPointName,\n  content,\n  onSave,\n  onComplete,\n  onExit,\n}: LeccionInteractivaPlayerProps) {\n  const [currentSection, setCurrentSection] = useState(0)\n  const [completedSections, setCompletedSections] = useState<Set<number>>(new Set())\n  const [quizAnswers, setQuizAnswers] = useState<Record<number, any>>({})\n  const [showQuizResults, setShowQuizResults] = useState(false)\n\n  const totalSections = content.secciones.length + (content.quiz ? 1 : 0)\n  const isQuizSection = currentSection === content.secciones.length && content.quiz\n  const canComplete = completedSections.size >= content.secciones.length\n\n  const handleSectionComplete = () => {\n    setCompletedSections(prev => new Set([...prev, currentSection]))\n    handleNext()\n  }\n\n  const handleNext = () => {\n    if (currentSection < totalSections - 1) {\n      setCurrentSection(currentSection + 1)\n    }\n  }\n\n  const handlePrevious = () => {\n    if (currentSection > 0) {\n      setCurrentSection(currentSection - 1)\n    }\n  }\n\n  const handleQuizSubmit = () => {\n    setShowQuizResults(true)\n    setCompletedSections(prev => new Set([...prev, currentSection]))\n  }\n\n  const calculateQuizScore = () => {\n    if (!content.quiz) return 0\n    let correct = 0\n    content.quiz.forEach((q, idx) => {\n      const userAnswer = quizAnswers[idx]\n      if (Array.isArray(q.respuesta_correcta)) {\n        if (JSON.stringify(userAnswer?.sort()) === JSON.stringify(q.respuesta_correcta.sort())) {\n          correct++\n        }\n      } else {\n        if (userAnswer === q.respuesta_correcta) {\n          correct++\n        }\n      }\n    })\n    return Math.round((correct / content.quiz.length) * 100)\n  }\n\n  const renderSection = (section: LeccionSection, index: number) => {\n    switch (section.tipo) {\n      case \"texto\":\n        return (\n          <div className=\"prose prose-lg max-w-none\">\n            {section.titulo && <h3>{section.titulo}</h3>}\n            <p className=\"text-foreground/90 leading-relaxed\">{section.contenido}</p>\n          </div>\n        )\n\n      case \"video\":\n        return (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Video className=\"h-5 w-5\" />\n                {section.titulo || \"Video\"}\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center\">\n                {section.url ? (\n                  <iframe\n                    src={section.url}\n                    className=\"w-full h-full rounded-lg\"\n                    allowFullScreen\n                  />\n                ) : (\n                  <p className=\"text-muted-foreground\">Video: {section.contenido}</p>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        )\n\n      case \"imagen\":\n        return (\n          <Card>\n            <CardContent className=\"p-4\">\n              {section.url ? (\n                <img\n                  src={section.url}\n                  alt={section.titulo || section.contenido}\n                  className=\"w-full rounded-lg\"\n                />\n              ) : (\n                <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center\">\n                  <p className=\"text-muted-foreground\">Imagen: {section.contenido}</p>\n                </div>\n              )}\n              {section.titulo && (\n                <p className=\"text-sm text-muted-foreground mt-2 text-center\">\n                  {section.titulo}\n                </p>\n              )}\n            </CardContent>\n          </Card>\n        )\n\n      case \"lista\":\n        return (\n          <Card>\n            <CardHeader>\n              <CardTitle>{section.titulo || \"Puntos Clave\"}</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <ul className=\"space-y-2\">\n                {(section.items || []).map((item, i) => (\n                  <li key={i} className=\"flex items-start gap-2\">\n                    <CheckCircle2 className=\"h-5 w-5 text-primary mt-0.5 flex-shrink-0\" />\n                    <span>{item}</span>\n                  </li>\n                ))}\n              </ul>\n            </CardContent>\n          </Card>\n        )\n\n      case \"concepto_clave\":\n        return (\n          <Card className=\"border-primary/50 bg-primary/5\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2 text-primary\">\n                <BookOpen className=\"h-5 w-5\" />\n                Concepto Clave\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-lg font-medium\">{section.contenido}</p>\n            </CardContent>\n          </Card>\n        )\n\n      default:\n        return <p>{section.contenido}</p>\n    }\n  }\n\n  const renderQuiz = () => {\n    if (!content.quiz) return null\n\n    return (\n      <div className=\"space-y-6\">\n        <Card className=\"border-primary/50 bg-primary/5\">\n          <CardContent className=\"p-6\">\n            <h3 className=\"text-xl font-semibold mb-2\">Evaluación de Comprensión</h3>\n            <p className=\"text-muted-foreground\">\n              Responde las siguientes preguntas para verificar tu comprensión de la lección\n            </p>\n          </CardContent>\n        </Card>\n\n        {content.quiz.map((question, qIdx) => (\n          <Card key={qIdx}>\n            <CardHeader>\n              <CardTitle className=\"text-lg\">\n                Pregunta {qIdx + 1} de {content.quiz!.length}\n              </CardTitle>\n              <p className=\"text-foreground/90\">{question.pregunta}</p>\n            </CardHeader>\n            <CardContent>\n              {question.tipo === \"multiple_choice\" && (\n                <RadioGroup\n                  value={quizAnswers[qIdx]}\n                  onValueChange={(value) =>\n                    setQuizAnswers({ ...quizAnswers, [qIdx]: value })\n                  }\n                  disabled={showQuizResults}\n                >\n                  {question.opciones.map((option, oIdx) => {\n                    const isCorrect = option === question.respuesta_correcta\n                    const isSelected = quizAnswers[qIdx] === option\n                    return (\n                      <div\n                        key={oIdx}\n                        className={cn(\n                          \"flex items-center space-x-2 rounded-lg border p-4 transition-colors\",\n                          showQuizResults &&\n                            isCorrect &&\n                            \"border-green-500 bg-green-50\",\n                          showQuizResults &&\n                            isSelected &&\n                            !isCorrect &&\n                            \"border-red-500 bg-red-50\"\n                        )}\n                      >\n                        <RadioGroupItem value={option} id={`q${qIdx}-o${oIdx}`} />\n                        <Label\n                          htmlFor={`q${qIdx}-o${oIdx}`}\n                          className=\"flex-1 cursor-pointer\"\n                        >\n                          {option}\n                        </Label>\n                        {showQuizResults && isCorrect && (\n                          <CheckCircle2 className=\"h-5 w-5 text-green-600\" />\n                        )}\n                      </div>\n                    )\n                  })}\n                </RadioGroup>\n              )}\n\n              {question.tipo === \"checkbox\" && (\n                <div className=\"space-y-2\">\n                  {question.opciones.map((option, oIdx) => {\n                    const correctAnswers = question.respuesta_correcta as string[]\n                    const isCorrect = correctAnswers.includes(option)\n                    const isSelected = quizAnswers[qIdx]?.includes(option)\n                    return (\n                      <div\n                        key={oIdx}\n                        className={cn(\n                          \"flex items-center space-x-2 rounded-lg border p-4\",\n                          showQuizResults &&\n                            isCorrect &&\n                            \"border-green-500 bg-green-50\",\n                          showQuizResults &&\n                            isSelected &&\n                            !isCorrect &&\n                            \"border-red-500 bg-red-50\"\n                        )}\n                      >\n                        <Checkbox\n                          id={`q${qIdx}-o${oIdx}`}\n                          checked={quizAnswers[qIdx]?.includes(option) || false}\n                          onCheckedChange={(checked) => {\n                            const current = quizAnswers[qIdx] || []\n                            const updated = checked\n                              ? [...current, option]\n                              : current.filter((o: string) => o !== option)\n                            setQuizAnswers({ ...quizAnswers, [qIdx]: updated })\n                          }}\n                          disabled={showQuizResults}\n                        />\n                        <Label\n                          htmlFor={`q${qIdx}-o${oIdx}`}\n                          className=\"flex-1 cursor-pointer\"\n                        >\n                          {option}\n                        </Label>\n                      </div>\n                    )\n                  })}\n                </div>\n              )}\n\n              {showQuizResults && question.explicacion && (\n                <div className=\"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <p className=\"text-sm\">\n                    <strong>Explicación:</strong> {question.explicacion}\n                  </p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        ))}\n\n        {!showQuizResults && (\n          <Button onClick={handleQuizSubmit} size=\"lg\" className=\"w-full\">\n            Enviar Respuestas\n          </Button>\n        )}\n\n        {showQuizResults && (\n          <Card className=\"border-primary\">\n            <CardContent className=\"p-6\">\n              <div className=\"text-center\">\n                <h3 className=\"text-2xl font-bold mb-2\">\n                  Tu puntuación: {calculateQuizScore()}%\n                </h3>\n                <p className=\"text-muted-foreground\">\n                  {calculateQuizScore() >= 70\n                    ? \"¡Excelente! Has demostrado un buen entendimiento de la lección\"\n                    : \"Revisa los conceptos clave y vuelve a intentarlo\"}\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <ExercisePlayer\n      exerciseId={exerciseId}\n      exerciseName={exerciseName}\n      exerciseDescription={content.objetivos.join(\" • \")}\n      proofPointName={proofPointName}\n      totalSteps={totalSections}\n      currentStep={currentSection + 1}\n      onSave={onSave}\n      onComplete={onComplete}\n      onPrevious={currentSection > 0 ? handlePrevious : undefined}\n      onNext={\n        currentSection < totalSections - 1 && !isQuizSection ? handleNext : undefined\n      }\n      onExit={onExit}\n      showAIAssistant={true}\n    >\n      <div className=\"space-y-6\">\n        {/* Progress Indicator */}\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          {Array.from({ length: totalSections }).map((_, idx) => (\n            <Button\n              key={idx}\n              variant={currentSection === idx ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setCurrentSection(idx)}\n              className=\"relative\"\n            >\n              {completedSections.has(idx) && (\n                <CheckCircle2 className=\"h-4 w-4 absolute -top-1 -right-1 text-green-600\" />\n              )}\n              {idx < content.secciones.length ? `Sección ${idx + 1}` : \"Quiz\"}\n            </Button>\n          ))}\n        </div>\n\n        <Separator />\n\n        {/* Content */}\n        {!isQuizSection && content.secciones[currentSection] && (\n          <>\n            {renderSection(content.secciones[currentSection], currentSection)}\n            {!completedSections.has(currentSection) && (\n              <Button onClick={handleSectionComplete} className=\"w-full\" size=\"lg\">\n                <CheckCircle2 className=\"h-5 w-5 mr-2\" />\n                Marcar como Completada\n              </Button>\n            )}\n          </>\n        )}\n\n        {isQuizSection && renderQuiz()}\n\n        {/* Key Concepts Summary */}\n        {!isQuizSection && content.conceptos_clave && content.conceptos_clave.length > 0 && (\n          <Card className=\"mt-8 border-primary/30 bg-primary/5\">\n            <CardHeader>\n              <CardTitle>Conceptos Clave de Esta Lección</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex flex-wrap gap-2\">\n                {content.conceptos_clave.map((concepto, idx) => (\n                  <Badge key={idx} variant=\"secondary\" className=\"text-sm\">\n                    {concepto}\n                  </Badge>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3159, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6WAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 3184, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/cuaderno-trabajo/CuadernoTrabajoPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Input } from \"@/components/ui/input\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  PenTool,\n  CheckCircle2,\n  Circle,\n  AlertCircle,\n  Lightbulb,\n  FileText\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\n// Types for Cuaderno de Trabajo\ninterface WorkbookPrompt {\n  tipo: \"texto_corto\" | \"texto_largo\" | \"lista\" | \"tabla\" | \"reflexion\"\n  pregunta: string\n  guia?: string\n  ejemplos?: string[]\n  min_palabras?: number\n  max_palabras?: number\n  placeholder?: string\n}\n\ninterface WorkbookSection {\n  titulo: string\n  descripcion?: string\n  instrucciones: string\n  prompts: WorkbookPrompt[]\n}\n\ninterface WorkbookContent {\n  titulo: string\n  objetivo: string\n  contexto: string\n  secciones: WorkbookSection[]\n  criterios_evaluacion?: string[]\n  tiempo_sugerido?: number\n}\n\ninterface CuadernoTrabajoPlayerProps {\n  exerciseId: string\n  exerciseName: string\n  proofPointName: string\n  content: WorkbookContent\n  initialResponses?: Record<string, any>\n  onSave: (data: any) => Promise<void>\n  onComplete: (data: any) => Promise<void>\n  onExit: () => void\n}\n\nexport function CuadernoTrabajoPlayer({\n  exerciseId,\n  exerciseName,\n  proofPointName,\n  content,\n  initialResponses = {},\n  onSave,\n  onComplete,\n  onExit,\n}: CuadernoTrabajoPlayerProps) {\n  const [currentSection, setCurrentSection] = useState(0)\n  const [responses, setResponses] = useState<Record<string, any>>(initialResponses)\n  const [completedSections, setCompletedSections] = useState<Set<number>>(new Set())\n\n  const totalSections = content.secciones.length\n  const currentSectionData = content.secciones[currentSection]\n\n  const getResponseKey = (sectionIdx: number, promptIdx: number) => {\n    return `s${sectionIdx}_p${promptIdx}`\n  }\n\n  const updateResponse = (sectionIdx: number, promptIdx: number, value: any) => {\n    const key = getResponseKey(sectionIdx, promptIdx)\n    setResponses(prev => ({ ...prev, [key]: value }))\n  }\n\n  const getResponse = (sectionIdx: number, promptIdx: number) => {\n    const key = getResponseKey(sectionIdx, promptIdx)\n    return responses[key] || \"\"\n  }\n\n  const isSectionComplete = (sectionIdx: number) => {\n    const section = content.secciones[sectionIdx]\n    return section.prompts.every((prompt, pIdx) => {\n      const response = getResponse(sectionIdx, pIdx)\n      if (prompt.tipo === \"lista\") {\n        return Array.isArray(response) && response.length > 0\n      }\n      return response && response.toString().trim().length > 0\n    })\n  }\n\n  const handleNext = () => {\n    if (currentSection < totalSections - 1) {\n      if (isSectionComplete(currentSection)) {\n        setCompletedSections(prev => new Set([...prev, currentSection]))\n      }\n      setCurrentSection(currentSection + 1)\n    }\n  }\n\n  const handlePrevious = () => {\n    if (currentSection > 0) {\n      setCurrentSection(currentSection - 1)\n    }\n  }\n\n  const countWords = (text: string) => {\n    return text.trim().split(/\\s+/).filter(w => w.length > 0).length\n  }\n\n  const renderPrompt = (prompt: WorkbookPrompt, promptIdx: number) => {\n    const responseValue = getResponse(currentSection, promptIdx)\n\n    switch (prompt.tipo) {\n      case \"texto_corto\":\n        return (\n          <div className=\"space-y-3\">\n            <div>\n              <label className=\"text-sm font-medium\">{prompt.pregunta}</label>\n              {prompt.guia && (\n                <p className=\"text-sm text-muted-foreground mt-1\">{prompt.guia}</p>\n              )}\n            </div>\n            <Input\n              placeholder={prompt.placeholder || \"Escribe tu respuesta...\"}\n              value={responseValue}\n              onChange={(e) => updateResponse(currentSection, promptIdx, e.target.value)}\n              className=\"text-base\"\n            />\n          </div>\n        )\n\n      case \"texto_largo\":\n      case \"reflexion\":\n        const wordCount = countWords(responseValue || \"\")\n        const minWords = prompt.min_palabras || 0\n        const maxWords = prompt.max_palabras || 1000\n        const isWordCountValid = wordCount >= minWords && wordCount <= maxWords\n\n        return (\n          <div className=\"space-y-3\">\n            <div>\n              <label className=\"text-sm font-medium\">{prompt.pregunta}</label>\n              {prompt.guia && (\n                <p className=\"text-sm text-muted-foreground mt-1\">{prompt.guia}</p>\n              )}\n            </div>\n            <Textarea\n              placeholder={prompt.placeholder || \"Desarrolla tu respuesta aquí...\"}\n              value={responseValue}\n              onChange={(e) => updateResponse(currentSection, promptIdx, e.target.value)}\n              className=\"min-h-[200px] text-base\"\n            />\n            <div className=\"flex items-center justify-between text-sm\">\n              <span\n                className={cn(\n                  \"text-muted-foreground\",\n                  !isWordCountValid && \"text-orange-600\"\n                )}\n              >\n                {wordCount} palabras\n                {minWords > 0 && ` (mínimo ${minWords})`}\n              </span>\n              {prompt.ejemplos && prompt.ejemplos.length > 0 && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => {\n                    /* TODO: Show examples modal */\n                  }}\n                >\n                  <Lightbulb className=\"h-4 w-4 mr-2\" />\n                  Ver ejemplos\n                </Button>\n              )}\n            </div>\n          </div>\n        )\n\n      case \"lista\":\n        const listItems = (responseValue as string[]) || [\"\"]\n\n        return (\n          <div className=\"space-y-3\">\n            <div>\n              <label className=\"text-sm font-medium\">{prompt.pregunta}</label>\n              {prompt.guia && (\n                <p className=\"text-sm text-muted-foreground mt-1\">{prompt.guia}</p>\n              )}\n            </div>\n            <div className=\"space-y-2\">\n              {listItems.map((item, idx) => (\n                <div key={idx} className=\"flex items-center gap-2\">\n                  <span className=\"text-sm text-muted-foreground w-6\">{idx + 1}.</span>\n                  <Input\n                    placeholder=\"Escribe un ítem...\"\n                    value={item}\n                    onChange={(e) => {\n                      const newList = [...listItems]\n                      newList[idx] = e.target.value\n                      updateResponse(currentSection, promptIdx, newList)\n                    }}\n                  />\n                  {idx === listItems.length - 1 && (\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        updateResponse(currentSection, promptIdx, [...listItems, \"\"])\n                      }}\n                    >\n                      +\n                    </Button>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )\n\n      case \"tabla\":\n        // Simple 2-column table implementation\n        const tableData = (responseValue as Array<[string, string]>) || [[\"\", \"\"]]\n\n        return (\n          <div className=\"space-y-3\">\n            <div>\n              <label className=\"text-sm font-medium\">{prompt.pregunta}</label>\n              {prompt.guia && (\n                <p className=\"text-sm text-muted-foreground mt-1\">{prompt.guia}</p>\n              )}\n            </div>\n            <div className=\"border rounded-lg overflow-hidden\">\n              <table className=\"w-full\">\n                <thead className=\"bg-muted\">\n                  <tr>\n                    <th className=\"p-3 text-left text-sm font-medium\">Columna 1</th>\n                    <th className=\"p-3 text-left text-sm font-medium\">Columna 2</th>\n                    <th className=\"p-3 w-12\"></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tableData.map((row, idx) => (\n                    <tr key={idx} className=\"border-t\">\n                      <td className=\"p-2\">\n                        <Input\n                          value={row[0]}\n                          onChange={(e) => {\n                            const newTable = [...tableData]\n                            newTable[idx][0] = e.target.value\n                            updateResponse(currentSection, promptIdx, newTable)\n                          }}\n                          placeholder=\"...\"\n                        />\n                      </td>\n                      <td className=\"p-2\">\n                        <Input\n                          value={row[1]}\n                          onChange={(e) => {\n                            const newTable = [...tableData]\n                            newTable[idx][1] = e.target.value\n                            updateResponse(currentSection, promptIdx, newTable)\n                          }}\n                          placeholder=\"...\"\n                        />\n                      </td>\n                      <td className=\"p-2\">\n                        {idx === tableData.length - 1 && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => {\n                              updateResponse(currentSection, promptIdx, [\n                                ...tableData,\n                                [\"\", \"\"],\n                              ])\n                            }}\n                          >\n                            +\n                          </Button>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )\n\n      default:\n        return null\n    }\n  }\n\n  const sectionCompletionPercentage = () => {\n    const completedPrompts = currentSectionData.prompts.filter((_, pIdx) => {\n      const response = getResponse(currentSection, pIdx)\n      return response && response.toString().trim().length > 0\n    }).length\n    return Math.round((completedPrompts / currentSectionData.prompts.length) * 100)\n  }\n\n  const handleSaveWithData = async () => {\n    await onSave(responses)\n  }\n\n  const handleCompleteWithData = async () => {\n    if (isSectionComplete(currentSection)) {\n      setCompletedSections(prev => new Set([...prev, currentSection]))\n    }\n    await onComplete(responses)\n  }\n\n  return (\n    <ExercisePlayer\n      exerciseId={exerciseId}\n      exerciseName={exerciseName}\n      exerciseDescription={content.objetivo}\n      proofPointName={proofPointName}\n      totalSteps={totalSections}\n      currentStep={currentSection + 1}\n      estimatedMinutes={content.tiempo_sugerido}\n      onSave={handleSaveWithData}\n      onComplete={handleCompleteWithData}\n      onPrevious={currentSection > 0 ? handlePrevious : undefined}\n      onNext={currentSection < totalSections - 1 ? handleNext : undefined}\n      onExit={onExit}\n      showAIAssistant={true}\n    >\n      <div className=\"space-y-6\">\n        {/* Context Card */}\n        <Card className=\"border-primary/30 bg-primary/5\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <FileText className=\"h-5 w-5\" />\n              Contexto\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-foreground/90\">{content.contexto}</p>\n          </CardContent>\n        </Card>\n\n        {/* Section Navigation */}\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          {content.secciones.map((section, idx) => (\n            <Button\n              key={idx}\n              variant={currentSection === idx ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setCurrentSection(idx)}\n              className=\"relative\"\n            >\n              {completedSections.has(idx) ? (\n                <CheckCircle2 className=\"h-4 w-4 mr-2 text-green-600\" />\n              ) : (\n                <Circle className=\"h-4 w-4 mr-2\" />\n              )}\n              Sección {idx + 1}\n            </Button>\n          ))}\n        </div>\n\n        <Separator />\n\n        {/* Current Section */}\n        <div className=\"space-y-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold mb-2\">{currentSectionData.titulo}</h2>\n            {currentSectionData.descripcion && (\n              <p className=\"text-muted-foreground\">{currentSectionData.descripcion}</p>\n            )}\n          </div>\n\n          {/* Instructions */}\n          <Card className=\"bg-blue-50 border-blue-200\">\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-start gap-2\">\n                <AlertCircle className=\"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0\" />\n                <p className=\"text-sm\">{currentSectionData.instrucciones}</p>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Prompts */}\n          <div className=\"space-y-6\">\n            {currentSectionData.prompts.map((prompt, pIdx) => (\n              <Card key={pIdx}>\n                <CardContent className=\"p-6\">\n                  {renderPrompt(prompt, pIdx)}\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {/* Section Progress */}\n          <Card className=\"border-dashed\">\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm text-muted-foreground\">\n                  Progreso de la sección\n                </span>\n                <Badge variant={sectionCompletionPercentage() === 100 ? \"default\" : \"secondary\"}>\n                  {sectionCompletionPercentage()}% completado\n                </Badge>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Evaluation Criteria */}\n        {content.criterios_evaluacion && content.criterios_evaluacion.length > 0 && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-lg\">Criterios de Evaluación</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <ul className=\"space-y-2\">\n                {content.criterios_evaluacion.map((criterio, idx) => (\n                  <li key={idx} className=\"flex items-start gap-2\">\n                    <CheckCircle2 className=\"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0\" />\n                    <span className=\"text-sm\">{criterio}</span>\n                  </li>\n                ))}\n              </ul>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4008, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6WAAC,2XAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6WAAC,4XAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6WAAC,+XAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 4061, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/simulacion-interaccion/SimulacionInteraccionPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\nimport {\n  MessageSquare,\n  Send,\n  RotateCcw,\n  User,\n  Bot,\n  CheckCircle2,\n  AlertTriangle,\n  Lightbulb\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\n// Types for Simulación de Interacción\ninterface SimulationScenario {\n  titulo: string\n  descripcion: string\n  personaje_ia: {\n    nombre: string\n    rol: string\n    personalidad: string\n    tono: string\n    contexto: string\n  }\n  objetivo_estudiante: string\n  situacion_inicial: string\n  criterios_exito: string[]\n  nivel_dificultad: \"principiante\" | \"intermedio\" | \"avanzado\"\n  tiempo_sugerido?: number\n}\n\ninterface Message {\n  id: string\n  role: \"user\" | \"assistant\" | \"system\"\n  content: string\n  timestamp: Date\n  feedback?: {\n    tipo: \"positivo\" | \"neutral\" | \"mejora\"\n    mensaje: string\n  }\n}\n\ninterface SimulacionInteraccionPlayerProps {\n  exerciseId: string\n  exerciseName: string\n  proofPointName: string\n  content: SimulationScenario\n  onSave: (data: any) => Promise<void>\n  onComplete: (data: any) => Promise<void>\n  onExit: () => void\n}\n\nexport function SimulacionInteraccionPlayer({\n  exerciseId,\n  exerciseName,\n  proofPointName,\n  content,\n  onSave,\n  onComplete,\n  onExit,\n}: SimulacionInteraccionPlayerProps) {\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: \"initial\",\n      role: \"system\",\n      content: content.situacion_inicial,\n      timestamp: new Date(),\n    },\n  ])\n  const [input, setInput] = useState(\"\")\n  const [isThinking, setIsThinking] = useState(false)\n  const [showObjectives, setShowObjectives] = useState(true)\n  const [conversationComplete, setConversationComplete] = useState(false)\n  const [successCriteriaMet, setSuccessCriteriaMet] = useState<Set<number>>(new Set())\n\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLTextAreaElement>(null)\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n  }, [messages])\n\n  const handleSendMessage = async () => {\n    if (!input.trim() || isThinking) return\n\n    const userMessage: Message = {\n      id: `user-${Date.now()}`,\n      role: \"user\",\n      content: input.trim(),\n      timestamp: new Date(),\n    }\n\n    setMessages(prev => [...prev, userMessage])\n    setInput(\"\")\n    setIsThinking(true)\n\n    // TODO: Call AI API with simulation context\n    // For now, simulate response\n    setTimeout(() => {\n      const aiResponse: Message = {\n        id: `ai-${Date.now()}`,\n        role: \"assistant\",\n        content: `[Respuesta de ${content.personaje_ia.nombre}] Entiendo tu punto. Como ${content.personaje_ia.rol}, mi perspectiva es...`,\n        timestamp: new Date(),\n      }\n\n      // Randomly add feedback for demonstration\n      if (Math.random() > 0.5) {\n        aiResponse.feedback = {\n          tipo: Math.random() > 0.3 ? \"positivo\" : \"mejora\",\n          mensaje:\n            Math.random() > 0.3\n              ? \"Excelente enfoque. Estás demostrando empatía y escucha activa.\"\n              : \"Considera reformular tu mensaje para ser más específico.\",\n        }\n      }\n\n      setMessages(prev => [...prev, aiResponse])\n      setIsThinking(false)\n\n      // Check if conversation objectives are met\n      checkSuccessCriteria(messages.length + 2)\n    }, 1500)\n  }\n\n  const checkSuccessCriteria = (messageCount: number) => {\n    // Simple heuristic: mark criteria as met based on message count\n    // In production, this would use AI to analyze conversation\n    const newMet = new Set(successCriteriaMet)\n    if (messageCount >= 4) newMet.add(0)\n    if (messageCount >= 8) newMet.add(1)\n    if (messageCount >= 12) newMet.add(2)\n    setSuccessCriteriaMet(newMet)\n\n    if (newMet.size >= content.criterios_exito.length) {\n      setConversationComplete(true)\n    }\n  }\n\n  const handleReset = () => {\n    setMessages([\n      {\n        id: \"initial\",\n        role: \"system\",\n        content: content.situacion_inicial,\n        timestamp: new Date(),\n      },\n    ])\n    setConversationComplete(false)\n    setSuccessCriteriaMet(new Set())\n  }\n\n  const handleSaveWithData = async () => {\n    await onSave({\n      messages,\n      successCriteriaMet: Array.from(successCriteriaMet),\n      conversationComplete,\n    })\n  }\n\n  const handleCompleteWithData = async () => {\n    await onComplete({\n      messages,\n      successCriteriaMet: Array.from(successCriteriaMet),\n      conversationComplete,\n    })\n  }\n\n  const getDifficultyColor = () => {\n    switch (content.nivel_dificultad) {\n      case \"principiante\":\n        return \"bg-green-500\"\n      case \"intermedio\":\n        return \"bg-yellow-500\"\n      case \"avanzado\":\n        return \"bg-red-500\"\n      default:\n        return \"bg-gray-500\"\n    }\n  }\n\n  return (\n    <ExercisePlayer\n      exerciseId={exerciseId}\n      exerciseName={exerciseName}\n      exerciseDescription={content.descripcion}\n      proofPointName={proofPointName}\n      totalSteps={1}\n      currentStep={1}\n      estimatedMinutes={content.tiempo_sugerido}\n      onSave={handleSaveWithData}\n      onComplete={conversationComplete ? handleCompleteWithData : undefined}\n      onExit={onExit}\n      showAIAssistant={false} // Simulation IS the AI interaction\n    >\n      <div className=\"space-y-6\">\n        {/* Scenario Info */}\n        <Card className=\"border-primary/30 bg-primary/5\">\n          <CardHeader>\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1\">\n                <CardTitle className=\"flex items-center gap-2 mb-2\">\n                  <MessageSquare className=\"h-5 w-5\" />\n                  {content.titulo}\n                </CardTitle>\n                <p className=\"text-sm text-foreground/80\">{content.descripcion}</p>\n              </div>\n              <Badge className={getDifficultyColor()}>\n                {content.nivel_dificultad}\n              </Badge>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              <div>\n                <h4 className=\"text-sm font-semibold mb-1\">Tu Objetivo:</h4>\n                <p className=\"text-sm text-foreground/90\">{content.objetivo_estudiante}</p>\n              </div>\n              <div className=\"flex items-center gap-3 p-3 bg-background rounded-lg border\">\n                <Avatar>\n                  <AvatarFallback>\n                    <Bot className=\"h-5 w-5\" />\n                  </AvatarFallback>\n                </Avatar>\n                <div className=\"flex-1\">\n                  <p className=\"font-medium text-sm\">{content.personaje_ia.nombre}</p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {content.personaje_ia.rol} • {content.personaje_ia.tono}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Success Criteria */}\n        {showObjectives && (\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle className=\"text-lg\">Criterios de Éxito</CardTitle>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => setShowObjectives(false)}\n                >\n                  Ocultar\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <ul className=\"space-y-2\">\n                {content.criterios_exito.map((criterio, idx) => (\n                  <li key={idx} className=\"flex items-start gap-2\">\n                    {successCriteriaMet.has(idx) ? (\n                      <CheckCircle2 className=\"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0\" />\n                    ) : (\n                      <div className=\"h-5 w-5 rounded-full border-2 mt-0.5 flex-shrink-0\" />\n                    )}\n                    <span\n                      className={cn(\n                        \"text-sm\",\n                        successCriteriaMet.has(idx) && \"text-muted-foreground line-through\"\n                      )}\n                    >\n                      {criterio}\n                    </span>\n                  </li>\n                ))}\n              </ul>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Chat Interface */}\n        <Card className=\"border-2\">\n          <CardHeader className=\"border-b bg-muted/50\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <MessageSquare className=\"h-5 w-5 text-primary\" />\n                <span className=\"font-semibold\">Conversación</span>\n                <Badge variant=\"outline\">{messages.filter(m => m.role !== \"system\").length} mensajes</Badge>\n              </div>\n              <Button variant=\"outline\" size=\"sm\" onClick={handleReset}>\n                <RotateCcw className=\"h-4 w-4 mr-2\" />\n                Reiniciar\n              </Button>\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            {/* Messages */}\n            <div className=\"h-[500px] overflow-y-auto p-4 space-y-4\">\n              {messages.map((message) => (\n                <div key={message.id}>\n                  {message.role === \"system\" ? (\n                    <div className=\"bg-muted/50 rounded-lg p-4 border-l-4 border-primary\">\n                      <p className=\"text-sm italic\">{message.content}</p>\n                    </div>\n                  ) : (\n                    <div\n                      className={cn(\n                        \"flex gap-3\",\n                        message.role === \"user\" ? \"justify-end\" : \"justify-start\"\n                      )}\n                    >\n                      {message.role === \"assistant\" && (\n                        <Avatar className=\"h-8 w-8\">\n                          <AvatarFallback className=\"bg-primary/10\">\n                            <Bot className=\"h-4 w-4 text-primary\" />\n                          </AvatarFallback>\n                        </Avatar>\n                      )}\n                      <div\n                        className={cn(\n                          \"max-w-[70%] space-y-2\",\n                          message.role === \"user\" && \"items-end\"\n                        )}\n                      >\n                        <div\n                          className={cn(\n                            \"rounded-lg p-3\",\n                            message.role === \"user\"\n                              ? \"bg-primary text-primary-foreground\"\n                              : \"bg-muted\"\n                          )}\n                        >\n                          <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n                        </div>\n                        {message.feedback && (\n                          <div\n                            className={cn(\n                              \"text-xs p-2 rounded border-l-2\",\n                              message.feedback.tipo === \"positivo\" &&\n                                \"bg-green-50 border-green-500 text-green-900\",\n                              message.feedback.tipo === \"mejora\" &&\n                                \"bg-orange-50 border-orange-500 text-orange-900\",\n                              message.feedback.tipo === \"neutral\" &&\n                                \"bg-blue-50 border-blue-500 text-blue-900\"\n                            )}\n                          >\n                            <div className=\"flex items-start gap-1\">\n                              <Lightbulb className=\"h-3 w-3 mt-0.5\" />\n                              <span>{message.feedback.mensaje}</span>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                      {message.role === \"user\" && (\n                        <Avatar className=\"h-8 w-8\">\n                          <AvatarFallback className=\"bg-muted\">\n                            <User className=\"h-4 w-4\" />\n                          </AvatarFallback>\n                        </Avatar>\n                      )}\n                    </div>\n                  )}\n                </div>\n              ))}\n\n              {isThinking && (\n                <div className=\"flex gap-3 justify-start\">\n                  <Avatar className=\"h-8 w-8\">\n                    <AvatarFallback className=\"bg-primary/10\">\n                      <Bot className=\"h-4 w-4 text-primary\" />\n                    </AvatarFallback>\n                  </Avatar>\n                  <div className=\"bg-muted rounded-lg p-3\">\n                    <div className=\"flex gap-1\">\n                      <div className=\"h-2 w-2 bg-muted-foreground rounded-full animate-bounce\" />\n                      <div className=\"h-2 w-2 bg-muted-foreground rounded-full animate-bounce delay-100\" />\n                      <div className=\"h-2 w-2 bg-muted-foreground rounded-full animate-bounce delay-200\" />\n                    </div>\n                  </div>\n                </div>\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input */}\n            <div className=\"border-t p-4\">\n              <div className=\"flex gap-2\">\n                <Textarea\n                  ref={inputRef}\n                  placeholder={`Escribe tu mensaje para ${content.personaje_ia.nombre}...`}\n                  value={input}\n                  onChange={(e) => setInput(e.target.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Enter\" && !e.shiftKey) {\n                      e.preventDefault()\n                      handleSendMessage()\n                    }\n                  }}\n                  disabled={isThinking || conversationComplete}\n                  className=\"resize-none min-h-[80px]\"\n                />\n                <Button\n                  onClick={handleSendMessage}\n                  disabled={!input.trim() || isThinking || conversationComplete}\n                  size=\"lg\"\n                >\n                  <Send className=\"h-5 w-5\" />\n                </Button>\n              </div>\n              <p className=\"text-xs text-muted-foreground mt-2\">\n                Presiona Enter para enviar, Shift+Enter para nueva línea\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Completion Message */}\n        {conversationComplete && (\n          <Card className=\"border-green-500 bg-green-50\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-start gap-3\">\n                <CheckCircle2 className=\"h-6 w-6 text-green-600 flex-shrink-0\" />\n                <div>\n                  <h4 className=\"font-semibold text-green-900 mb-1\">\n                    ¡Simulación Completada!\n                  </h4>\n                  <p className=\"text-sm text-green-800\">\n                    Has cumplido todos los criterios de éxito. Puedes continuar la conversación\n                    o completar el ejercicio.\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4891, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/mentor-ia/MentorIAPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  UserCog,\n  Target,\n  CheckCircle2,\n  Circle,\n  Lightbulb,\n  TrendingUp,\n  MessageSquare,\n  BookOpen,\n  FileText,\n  AlertCircle\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\n// Types for Mentor/Asesor IA\ninterface MentorStep {\n  numero: number\n  titulo: string\n  instruccion: string\n  pregunta_reflexion: string\n  recursos?: Array<{ titulo: string; contenido: string; tipo: \"consejo\" | \"ejemplo\" | \"link\" }>\n  criterio_avance: string\n}\n\ninterface MentorContent {\n  titulo: string\n  objetivo_general: string\n  contexto_mentor: {\n    nombre: string\n    especialidad: string\n    estilo: string\n    enfoque: string\n  }\n  pasos: MentorStep[]\n  reflexion_final: string\n  metricas_seguimiento?: string[]\n}\n\ninterface StepResponse {\n  reflexion: string\n  acciones_tomadas?: string[]\n  aprendizajes?: string[]\n  dudas?: string[]\n}\n\ninterface MentorIAPlayerProps {\n  exerciseId: string\n  exerciseName: string\n  proofPointName: string\n  content: MentorContent\n  initialResponses?: Record<number, StepResponse>\n  onSave: (data: any) => Promise<void>\n  onComplete: (data: any) => Promise<void>\n  onExit: () => void\n}\n\nexport function MentorIAPlayer({\n  exerciseId,\n  exerciseName,\n  proofPointName,\n  content,\n  initialResponses = {},\n  onSave,\n  onComplete,\n  onExit,\n}: MentorIAPlayerProps) {\n  const [currentStep, setCurrentStep] = useState(0)\n  const [responses, setResponses] = useState<Record<number, StepResponse>>(initialResponses)\n  const [completedSteps, setCompletedSteps] = useState<Set<number>>(new Set())\n  const [showMentorAdvice, setShowMentorAdvice] = useState(false)\n  const [mentorMessage, setMentorMessage] = useState(\"\")\n\n  const currentStepData = content.pasos[currentStep]\n  const totalSteps = content.pasos.length\n\n  const updateResponse = (field: keyof StepResponse, value: any) => {\n    setResponses(prev => ({\n      ...prev,\n      [currentStep]: {\n        ...prev[currentStep],\n        [field]: value,\n      },\n    }))\n  }\n\n  const getResponse = (field: keyof StepResponse) => {\n    return responses[currentStep]?.[field] || \"\"\n  }\n\n  const isStepComplete = (stepIdx: number) => {\n    const response = responses[stepIdx]\n    return response?.reflexion && response.reflexion.trim().length > 100\n  }\n\n  const handleStepComplete = () => {\n    if (isStepComplete(currentStep)) {\n      setCompletedSteps(prev => new Set([...prev, currentStep]))\n      if (currentStep < totalSteps - 1) {\n        setCurrentStep(currentStep + 1)\n      }\n    }\n  }\n\n  const handleNext = () => {\n    if (currentStep < totalSteps - 1) {\n      setCurrentStep(currentStep + 1)\n    }\n  }\n\n  const handlePrevious = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1)\n    }\n  }\n\n  const requestMentorAdvice = async () => {\n    setShowMentorAdvice(true)\n    // TODO: Call AI API for personalized advice\n    // For now, use static response\n    setMentorMessage(\n      `Como ${content.contexto_mentor.nombre}, te sugiero que reflexiones sobre ${currentStepData.titulo.toLowerCase()}. ${currentStepData.criterio_avance}`\n    )\n  }\n\n  const handleSaveWithData = async () => {\n    await onSave({\n      responses,\n      completedSteps: Array.from(completedSteps),\n      currentStep,\n    })\n  }\n\n  const handleCompleteWithData = async () => {\n    if (isStepComplete(currentStep)) {\n      setCompletedSteps(prev => new Set([...prev, currentStep]))\n    }\n    await onComplete({\n      responses,\n      completedSteps: Array.from(completedSteps),\n      currentStep,\n    })\n  }\n\n  const overallProgress = (completedSteps.size / totalSteps) * 100\n\n  return (\n    <ExercisePlayer\n      exerciseId={exerciseId}\n      exerciseName={exerciseName}\n      exerciseDescription={content.objetivo_general}\n      proofPointName={proofPointName}\n      totalSteps={totalSteps}\n      currentStep={currentStep + 1}\n      onSave={handleSaveWithData}\n      onComplete={handleCompleteWithData}\n      onPrevious={currentStep > 0 ? handlePrevious : undefined}\n      onNext={\n        currentStep < totalSteps - 1 && completedSteps.has(currentStep)\n          ? handleNext\n          : undefined\n      }\n      onExit={onExit}\n      showAIAssistant={false} // Has its own mentor interaction\n    >\n      <div className=\"space-y-6\">\n        {/* Mentor Info */}\n        <Card className=\"border-primary/30 bg-gradient-to-r from-primary/5 to-background\">\n          <CardHeader>\n            <div className=\"flex items-start gap-4\">\n              <div className=\"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center\">\n                <UserCog className=\"h-6 w-6 text-primary\" />\n              </div>\n              <div className=\"flex-1\">\n                <CardTitle>{content.contexto_mentor.nombre}</CardTitle>\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  {content.contexto_mentor.especialidad}\n                </p>\n                <div className=\"flex items-center gap-2 mt-2\">\n                  <Badge variant=\"outline\">{content.contexto_mentor.estilo}</Badge>\n                  <Badge variant=\"outline\">{content.contexto_mentor.enfoque}</Badge>\n                </div>\n              </div>\n            </div>\n          </CardHeader>\n        </Card>\n\n        {/* Overall Progress */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-sm font-medium\">Progreso General</span>\n                <span className=\"text-sm text-muted-foreground\">\n                  {completedSteps.size} / {totalSteps} pasos completados\n                </span>\n              </div>\n              <Progress value={overallProgress} className=\"h-2\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Step Navigation */}\n        <div className=\"flex items-center gap-2 overflow-x-auto pb-2\">\n          {content.pasos.map((step, idx) => (\n            <Button\n              key={idx}\n              variant={currentStep === idx ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => setCurrentStep(idx)}\n              className={cn(\n                \"flex-shrink-0 relative\",\n                completedSteps.has(idx) && \"border-green-500\"\n              )}\n            >\n              {completedSteps.has(idx) ? (\n                <CheckCircle2 className=\"h-4 w-4 mr-2 text-green-600\" />\n              ) : (\n                <Circle className=\"h-4 w-4 mr-2\" />\n              )}\n              Paso {idx + 1}\n            </Button>\n          ))}\n        </div>\n\n        <Separator />\n\n        {/* Current Step Content */}\n        <div className=\"space-y-6\">\n          {/* Step Header */}\n          <div>\n            <div className=\"flex items-center justify-between mb-3\">\n              <h2 className=\"text-2xl font-bold\">Paso {currentStep + 1}: {currentStepData.titulo}</h2>\n              <Badge variant={completedSteps.has(currentStep) ? \"default\" : \"secondary\"}>\n                {completedSteps.has(currentStep) ? \"Completado\" : \"En progreso\"}\n              </Badge>\n            </div>\n            <Card className=\"bg-blue-50 border-blue-200\">\n              <CardContent className=\"p-4\">\n                <div className=\"flex items-start gap-2\">\n                  <Target className=\"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0\" />\n                  <p className=\"text-sm\">{currentStepData.instruccion}</p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Reflexion Question */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"text-lg flex items-center gap-2\">\n                <MessageSquare className=\"h-5 w-5\" />\n                Pregunta de Reflexión\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-foreground/90 font-medium\">\n                {currentStepData.pregunta_reflexion}\n              </p>\n              <Textarea\n                placeholder=\"Escribe tu reflexión aquí... (mínimo 100 palabras)\"\n                value={getResponse(\"reflexion\") as string}\n                onChange={(e) => updateResponse(\"reflexion\", e.target.value)}\n                className=\"min-h-[200px]\"\n              />\n              <div className=\"flex items-center justify-between text-sm\">\n                <span className={cn(\n                  \"text-muted-foreground\",\n                  (getResponse(\"reflexion\") as string)?.length < 100 && \"text-orange-600\"\n                )}>\n                  {(getResponse(\"reflexion\") as string)?.length || 0} caracteres\n                  {(getResponse(\"reflexion\") as string)?.length < 100 && \" (mínimo 100)\"}\n                </span>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={requestMentorAdvice}\n                >\n                  <Lightbulb className=\"h-4 w-4 mr-2\" />\n                  Pedir consejo al mentor\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Mentor Advice */}\n          {showMentorAdvice && mentorMessage && (\n            <Card className=\"border-primary bg-primary/5\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0\">\n                    <UserCog className=\"h-5 w-5 text-primary\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold mb-2\">{content.contexto_mentor.nombre} dice:</h4>\n                    <p className=\"text-sm\">{mentorMessage}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Resources */}\n          {currentStepData.recursos && currentStepData.recursos.length > 0 && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg flex items-center gap-2\">\n                  <BookOpen className=\"h-5 w-5\" />\n                  Recursos de Apoyo\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  {currentStepData.recursos.map((recurso, idx) => (\n                    <div\n                      key={idx}\n                      className={cn(\n                        \"p-4 rounded-lg border-l-4\",\n                        recurso.tipo === \"consejo\" && \"bg-blue-50 border-blue-500\",\n                        recurso.tipo === \"ejemplo\" && \"bg-green-50 border-green-500\",\n                        recurso.tipo === \"link\" && \"bg-purple-50 border-purple-500\"\n                      )}\n                    >\n                      <h5 className=\"font-medium text-sm mb-1\">{recurso.titulo}</h5>\n                      <p className=\"text-sm text-muted-foreground\">{recurso.contenido}</p>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Additional Inputs */}\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <CheckCircle2 className=\"h-4 w-4\" />\n                  Acciones Tomadas (Opcional)\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <Textarea\n                  placeholder=\"¿Qué acciones has tomado o planeas tomar basándote en este paso?\"\n                  value={(getResponse(\"acciones_tomadas\") as string[])?.join(\"\\n\") || \"\"}\n                  onChange={(e) => {\n                    const lines = e.target.value.split(\"\\n\").filter(l => l.trim())\n                    updateResponse(\"acciones_tomadas\", lines)\n                  }}\n                  className=\"min-h-[120px]\"\n                />\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <Lightbulb className=\"h-4 w-4\" />\n                  Aprendizajes Clave (Opcional)\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <Textarea\n                  placeholder=\"¿Qué has aprendido en este paso?\"\n                  value={(getResponse(\"aprendizajes\") as string[])?.join(\"\\n\") || \"\"}\n                  onChange={(e) => {\n                    const lines = e.target.value.split(\"\\n\").filter(l => l.trim())\n                    updateResponse(\"aprendizajes\", lines)\n                  }}\n                  className=\"min-h-[120px]\"\n                />\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Advancement Criteria */}\n          <Card className=\"border-dashed\">\n            <CardContent className=\"p-4\">\n              <div className=\"flex items-start gap-2\">\n                <AlertCircle className=\"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0\" />\n                <div>\n                  <p className=\"text-sm font-medium mb-1\">Para avanzar al siguiente paso:</p>\n                  <p className=\"text-sm text-muted-foreground\">{currentStepData.criterio_avance}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Complete Step Button */}\n          {!completedSteps.has(currentStep) && (\n            <Button\n              onClick={handleStepComplete}\n              disabled={!isStepComplete(currentStep)}\n              size=\"lg\"\n              className=\"w-full\"\n            >\n              <CheckCircle2 className=\"h-5 w-5 mr-2\" />\n              Completar Paso {currentStep + 1}\n            </Button>\n          )}\n        </div>\n\n        {/* Final Reflection */}\n        {currentStep === totalSteps - 1 && completedSteps.has(currentStep) && (\n          <Card className=\"border-primary bg-gradient-to-r from-primary/5 to-background\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <TrendingUp className=\"h-5 w-5\" />\n                Reflexión Final\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-foreground/90 mb-4\">{content.reflexion_final}</p>\n              {content.metricas_seguimiento && content.metricas_seguimiento.length > 0 && (\n                <div>\n                  <h4 className=\"font-medium mb-2 text-sm\">Métricas para dar seguimiento:</h4>\n                  <ul className=\"space-y-1\">\n                    {content.metricas_seguimiento.map((metrica, idx) => (\n                      <li key={idx} className=\"text-sm text-muted-foreground flex items-start gap-2\">\n                        <span className=\"text-primary\">•</span>\n                        {metrica}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5803, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6WAAC,4XAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6WAAC,4XAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6WAAC,+XAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6WAAC,+XAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 5869, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/herramienta-analisis/HerramientaAnalisisPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Upload, Download, BarChart3, FileText, CheckCircle2, TrendingUp } from \"lucide-react\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\n\n// Wizard de 3 pasos: Upload → Análisis → Resultados\ninterface AnalysisToolContent {\n  titulo: string\n  descripcion: string\n  tipoAnalisis: \"interview_synthesis\" | \"data_analysis\" | \"competitor_analysis\"\n  instrucciones: string[]\n  outputFormat: \"themes\" | \"matrix\" | \"metrics\"\n}\n\ninterface HerramientaAnalisisPlayerProps {\n  exerciseId: string\n  exerciseName: string\n  proofPointName: string\n  content: AnalysisToolContent\n  onSave: (data: any) => Promise<void>\n  onComplete: (data: any) => Promise<void>\n  onExit: () => void\n}\n\nexport function HerramientaAnalisisPlayer({\n  exerciseId,\n  exerciseName,\n  proofPointName,\n  content,\n  onSave,\n  onComplete,\n  onExit,\n}: HerramientaAnalisisPlayerProps) {\n  const [currentStep, setCurrentStep] = useState<\"upload\" | \"analyzing\" | \"results\">(\"upload\")\n  const [uploadedFiles, setUploadedFiles] = useState<File[]>([])\n  const [analysisResults, setAnalysisResults] = useState<any>(null)\n  const [editedResults, setEditedResults] = useState<any>(null)\n\n  const handleFileUpload = (files: FileList | null) => {\n    if (files) {\n      setUploadedFiles(Array.from(files))\n    }\n  }\n\n  const handleAnalyze = async () => {\n    setCurrentStep(\"analyzing\")\n\n    // Simular análisis (en producción llamaría a la API)\n    setTimeout(() => {\n      const mockResults = {\n        themes: [\n          { name: \"Problema Principal\", frequency: 8, quotes: [\"Quote 1\", \"Quote 2\"] },\n          { name: \"Solución Propuesta\", frequency: 6, quotes: [\"Quote 3\"] },\n          { name: \"Willingness to Pay\", frequency: 5, quotes: [\"Quote 4\", \"Quote 5\"] },\n        ],\n        matrix: [\n          { problem: \"Gestión de inventario\", p1: true, p2: false, p3: true },\n          { problem: \"Costos operativos\", p1: true, p2: true, p3: false },\n        ],\n      }\n      setAnalysisResults(mockResults)\n      setEditedResults(mockResults)\n      setCurrentStep(\"results\")\n    }, 2000)\n  }\n\n  const handleExport = () => {\n    // Exportar resultados editados\n    const dataStr = JSON.stringify(editedResults, null, 2)\n    const dataBlob = new Blob([dataStr], { type: \"application/json\" })\n    const url = URL.createObjectURL(dataBlob)\n    const link = document.createElement(\"a\")\n    link.href = url\n    link.download = \"analysis-results.json\"\n    link.click()\n  }\n\n  const renderUploadStep = () => (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Paso 1: Cargar Datos para Análisis</CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"border-2 border-dashed rounded-lg p-12 text-center\">\n            <Upload className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Arrastra archivos aquí o haz click para seleccionar\n            </p>\n            <input\n              type=\"file\"\n              multiple\n              accept=\".txt,.pdf,.doc,.docx\"\n              onChange={(e) => handleFileUpload(e.target.files)}\n              className=\"hidden\"\n              id=\"file-upload\"\n            />\n            <Button asChild variant=\"outline\">\n              <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                Seleccionar Archivos\n              </label>\n            </Button>\n          </div>\n\n          {uploadedFiles.length > 0 && (\n            <div>\n              <h4 className=\"font-medium mb-2\">Archivos Cargados ({uploadedFiles.length})</h4>\n              <div className=\"space-y-2\">\n                {uploadedFiles.map((file, idx) => (\n                  <div key={idx} className=\"flex items-center justify-between p-2 bg-muted rounded\">\n                    <div className=\"flex items-center gap-2\">\n                      <FileText className=\"h-4 w-4\" />\n                      <span className=\"text-sm\">{file.name}</span>\n                    </div>\n                    <Badge variant=\"secondary\">{(file.size / 1024).toFixed(1)} KB</Badge>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <Button\n            onClick={handleAnalyze}\n            disabled={uploadedFiles.length === 0}\n            className=\"w-full\"\n            size=\"lg\"\n          >\n            <BarChart3 className=\"h-5 w-5 mr-2\" />\n            Analizar con IA\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n\n  const renderAnalyzingStep = () => (\n    <Card>\n      <CardContent className=\"py-12\">\n        <div className=\"text-center space-y-4\">\n          <div className=\"inline-block h-16 w-16 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent\" />\n          <h3 className=\"text-xl font-semibold\">Analizando tus datos...</h3>\n          <p className=\"text-muted-foreground\">\n            Esto puede tomar hasta 30 segundos\n          </p>\n          <Progress value={66} className=\"w-64 mx-auto\" />\n        </div>\n      </CardContent>\n    </Card>\n  )\n\n  const renderResultsStep = () => (\n    <div className=\"space-y-6\">\n      <Card className=\"bg-yellow-50 border-yellow-200\">\n        <CardContent className=\"p-4\">\n          <div className=\"flex items-start gap-2\">\n            <CheckCircle2 className=\"h-5 w-5 text-yellow-600 mt-0.5\" />\n            <div>\n              <p className=\"text-sm font-medium\">Análisis Completo</p>\n              <p className=\"text-xs text-muted-foreground\">\n                Revisa, edita y valida los resultados antes de exportar\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Tabs defaultValue=\"themes\">\n        <TabsList>\n          <TabsTrigger value=\"themes\">Temas Identificados</TabsTrigger>\n          <TabsTrigger value=\"matrix\">Matriz de Problemas</TabsTrigger>\n          <TabsTrigger value=\"quotes\">Citas Destacadas</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"themes\" className=\"space-y-4\">\n          {analysisResults?.themes.map((theme: any, idx: number) => (\n            <Card key={idx}>\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <CardTitle className=\"text-lg\">{theme.name}</CardTitle>\n                  <Badge>{theme.frequency} menciones</Badge>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  <h5 className=\"text-sm font-medium\">Citas representativas:</h5>\n                  {theme.quotes.map((quote: string, qIdx: number) => (\n                    <p key={qIdx} className=\"text-sm text-muted-foreground italic border-l-2 pl-3\">\n                      \"{quote}\"\n                    </p>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </TabsContent>\n\n        <TabsContent value=\"matrix\">\n          <Card>\n            <CardContent className=\"p-6\">\n              <p className=\"text-sm text-muted-foreground\">\n                Matriz de análisis cruzado (implementación pendiente)\n              </p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"quotes\">\n          <Card>\n            <CardContent className=\"p-6\">\n              <p className=\"text-sm text-muted-foreground\">\n                Citas destacadas organizadas por tema (implementación pendiente)\n              </p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      <div className=\"flex gap-2\">\n        <Button onClick={handleExport} variant=\"outline\" className=\"flex-1\">\n          <Download className=\"h-4 w-4 mr-2\" />\n          Exportar Resultados\n        </Button>\n        <Button onClick={() => setCurrentStep(\"upload\")} variant=\"outline\">\n          Nuevo Análisis\n        </Button>\n      </div>\n    </div>\n  )\n\n  return (\n    <ExercisePlayer\n      exerciseId={exerciseId}\n      exerciseName={exerciseName}\n      exerciseDescription={content.descripcion}\n      proofPointName={proofPointName}\n      totalSteps={3}\n      currentStep={currentStep === \"upload\" ? 1 : currentStep === \"analyzing\" ? 2 : 3}\n      onSave={onSave}\n      onComplete={currentStep === \"results\" ? onComplete : undefined}\n      onExit={onExit}\n      showAIAssistant={false}\n    >\n      {currentStep === \"upload\" && renderUploadStep()}\n      {currentStep === \"analyzing\" && renderAnalyzingStep()}\n      {currentStep === \"results\" && renderResultsStep()}\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6511, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/herramienta-creacion/HerramientaCreacionPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Sparkles, Download, Eye } from \"lucide-react\"\n\ninterface CreationToolContent {\n  titulo: string\n  tipoCreacion: \"business_model\" | \"value_proposition\" | \"pitch_deck\"\n  promptsIniciales: string[]\n}\n\nexport function HerramientaCreacionPlayer({ exerciseId, exerciseName, proofPointName, content, onSave, onComplete, onExit }: any) {\n  const [inputs, setInputs] = useState<Record<string, string>>({})\n  const [variants, setVariants] = useState<any[]>([])\n  const [selectedVariant, setSelectedVariant] = useState(0)\n  const [isGenerating, setIsGenerating] = useState(false)\n\n  const handleGenerate = async () => {\n    setIsGenerating(true)\n    setTimeout(() => {\n      setVariants([\n        { id: 1, title: \"Variante A\", content: \"Contenido generado A\" },\n        { id: 2, title: \"Variante B\", content: \"Contenido generado B\" },\n        { id: 3, title: \"Variante C\", content: \"Contenido generado C\" },\n      ])\n      setIsGenerating(false)\n    }, 2000)\n  }\n\n  return (\n    <ExercisePlayer exerciseId={exerciseId} exerciseName={exerciseName} proofPointName={proofPointName} onSave={onSave} onComplete={onComplete} onExit={onExit}>\n      <div className=\"space-y-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Información Base</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {content.promptsIniciales.map((prompt: string, idx: number) => (\n              <div key={idx}>\n                <label className=\"text-sm font-medium\">{prompt}</label>\n                <Textarea\n                  value={inputs[`p${idx}`] || \"\"}\n                  onChange={(e) => setInputs({ ...inputs, [`p${idx}`]: e.target.value })}\n                  placeholder=\"Escribe aquí...\"\n                />\n              </div>\n            ))}\n            <Button onClick={handleGenerate} disabled={isGenerating} className=\"w-full\">\n              <Sparkles className=\"h-4 w-4 mr-2\" />\n              {isGenerating ? \"Generando...\" : \"Generar Variantes con IA\"}\n            </Button>\n          </CardContent>\n        </Card>\n\n        {variants.length > 0 && (\n          <div className=\"grid md:grid-cols-3 gap-4\">\n            {variants.map((v, idx) => (\n              <Card key={v.id} className={selectedVariant === idx ? \"border-primary\" : \"\"} onClick={() => setSelectedVariant(idx)}>\n                <CardHeader>\n                  <CardTitle className=\"text-lg\">{v.title}</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-sm text-muted-foreground\">{v.content}</p>\n                  <Button size=\"sm\" variant=\"outline\" className=\"mt-4 w-full\">\n                    <Eye className=\"h-4 w-4 mr-2\" />\n                    Seleccionar y Editar\n                  </Button>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAPA;;;;;;;;AAeO,SAAS,0BAA0B,EAAE,UAAU,EAAE,YAAY,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAO;IAC9H,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ,EAAyB,CAAC;IAC9D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gVAAQ,EAAC;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gVAAQ,EAAC;IAEjD,MAAM,iBAAiB;QACrB,gBAAgB;QAChB,WAAW;YACT,YAAY;gBACV;oBAAE,IAAI;oBAAG,OAAO;oBAAc,SAAS;gBAAuB;gBAC9D;oBAAE,IAAI;oBAAG,OAAO;oBAAc,SAAS;gBAAuB;gBAC9D;oBAAE,IAAI;oBAAG,OAAO;oBAAc,SAAS;gBAAuB;aAC/D;YACD,gBAAgB;QAClB,GAAG;IACL;IAEA,qBACE,6WAAC,kKAAc;QAAC,YAAY;QAAY,cAAc;QAAc,gBAAgB;QAAgB,QAAQ;QAAQ,YAAY;QAAY,QAAQ;kBAClJ,cAAA,6WAAC;YAAI,WAAU;;8BACb,6WAAC,iIAAI;;sCACH,6WAAC,uIAAU;sCACT,cAAA,6WAAC,sIAAS;0CAAC;;;;;;;;;;;sCAEb,6WAAC,wIAAW;4BAAC,WAAU;;gCACpB,QAAQ,gBAAgB,CAAC,GAAG,CAAC,CAAC,QAAgB,oBAC7C,6WAAC;;0DACC,6WAAC;gDAAM,WAAU;0DAAuB;;;;;;0DACxC,6WAAC,yIAAQ;gDACP,OAAO,MAAM,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI;gDAC5B,UAAU,CAAC,IAAM,UAAU;wDAAE,GAAG,MAAM;wDAAE,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;oDAAC;gDACpE,aAAY;;;;;;;uCALN;;;;;8CASZ,6WAAC,qIAAM;oCAAC,SAAS;oCAAgB,UAAU;oCAAc,WAAU;;sDACjE,6WAAC,0SAAQ;4CAAC,WAAU;;;;;;wCACnB,eAAe,iBAAiB;;;;;;;;;;;;;;;;;;;gBAKtC,SAAS,MAAM,GAAG,mBACjB,6WAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,GAAG,oBAChB,6WAAC,iIAAI;4BAAY,WAAW,oBAAoB,MAAM,mBAAmB;4BAAI,SAAS,IAAM,mBAAmB;;8CAC7G,6WAAC,uIAAU;8CACT,cAAA,6WAAC,sIAAS;wCAAC,WAAU;kDAAW,EAAE,KAAK;;;;;;;;;;;8CAEzC,6WAAC,wIAAW;;sDACV,6WAAC;4CAAE,WAAU;sDAAiC,EAAE,OAAO;;;;;;sDACvD,6WAAC,qIAAM;4CAAC,MAAK;4CAAK,SAAQ;4CAAU,WAAU;;8DAC5C,6WAAC,2RAAG;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;2BAP3B,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;AAkB7B","debugId":null}},
    {"offset": {"line": 6728, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/sistema-tracking/SistemaTrackingPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { LineChart, TrendingUp } from \"lucide-react\"\n\nexport function SistemaTrackingPlayer({ exerciseId, exerciseName, proofPointName, content, onSave, onComplete, onExit }: any) {\n  const [metrics, setMetrics] = useState<Record<string, number>>({})\n\n  return (\n    <ExercisePlayer exerciseId={exerciseId} exerciseName={exerciseName} proofPointName={proofPointName} onSave={onSave} onComplete={onComplete} onExit={onExit}>\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <TrendingUp className=\"h-5 w-5\" />\n            Registro de Métricas\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"text-sm font-medium\">Métrica 1</label>\n              <Input type=\"number\" value={metrics.m1 || \"\"} onChange={(e) => setMetrics({ ...metrics, m1: Number(e.target.value) })} />\n            </div>\n            <div>\n              <label className=\"text-sm font-medium\">Métrica 2</label>\n              <Input type=\"number\" value={metrics.m2 || \"\"} onChange={(e) => setMetrics({ ...metrics, m2: Number(e.target.value) })} />\n            </div>\n          </div>\n          <p className=\"text-sm text-muted-foreground\">Sistema de tracking de métricas con gráficas (implementación completa pendiente)</p>\n        </CardContent>\n      </Card>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQO,SAAS,sBAAsB,EAAE,UAAU,EAAE,YAAY,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAO;IAC1H,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAyB,CAAC;IAEhE,qBACE,6WAAC,kKAAc;QAAC,YAAY;QAAY,cAAc;QAAc,gBAAgB;QAAgB,QAAQ;QAAQ,YAAY;QAAY,QAAQ;kBAClJ,cAAA,6WAAC,iIAAI;;8BACH,6WAAC,uIAAU;8BACT,cAAA,6WAAC,sIAAS;wBAAC,WAAU;;0CACnB,6WAAC,oTAAU;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;8BAItC,6WAAC,wIAAW;oBAAC,WAAU;;sCACrB,6WAAC;4BAAI,WAAU;;8CACb,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAAsB;;;;;;sDACvC,6WAAC,mIAAK;4CAAC,MAAK;4CAAS,OAAO,QAAQ,EAAE,IAAI;4CAAI,UAAU,CAAC,IAAM,WAAW;oDAAE,GAAG,OAAO;oDAAE,IAAI,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAE;;;;;;;;;;;;8CAErH,6WAAC;;sDACC,6WAAC;4CAAM,WAAU;sDAAsB;;;;;;sDACvC,6WAAC,mIAAK;4CAAC,MAAK;4CAAS,OAAO,QAAQ,EAAE,IAAI;4CAAI,UAAU,CAAC,IAAM,WAAW;oDAAE,GAAG,OAAO;oDAAE,IAAI,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAE;;;;;;;;;;;;;;;;;;sCAGvH,6WAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;;;;;;;;;;;;AAKvD","debugId":null}},
    {"offset": {"line": 6877, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/herramienta-revision/HerramientaRevisionPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card } from \"@/components/ui/card\"\nimport { CheckCircle2 } from \"lucide-react\"\n\nexport function HerramientaRevisionPlayer({ exerciseId, exerciseName, proofPointName, content, onSave, onComplete, onExit }: any) {\n  return (\n    <ExercisePlayer exerciseId={exerciseId} exerciseName={exerciseName} proofPointName={proofPointName} onSave={onSave} onComplete={onComplete} onExit={onExit} showAIAssistant={true}>\n      <Card className=\"p-6\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <CheckCircle2 className=\"h-5 w-5 text-primary\" />\n          <h3 className=\"font-semibold\">Herramienta de Revisión</h3>\n        </div>\n        <p className=\"text-sm text-muted-foreground\">Player de revisión con feedback IA (implementación completa pendiente)</p>\n      </Card>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,0BAA0B,EAAE,UAAU,EAAE,YAAY,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAO;IAC9H,qBACE,6WAAC,kKAAc;QAAC,YAAY;QAAY,cAAc;QAAc,gBAAgB;QAAgB,QAAQ;QAAQ,YAAY;QAAY,QAAQ;QAAQ,iBAAiB;kBAC3K,cAAA,6WAAC,iIAAI;YAAC,WAAU;;8BACd,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,yTAAY;4BAAC,WAAU;;;;;;sCACxB,6WAAC;4BAAG,WAAU;sCAAgB;;;;;;;;;;;;8BAEhC,6WAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAIrD","debugId":null}},
    {"offset": {"line": 6950, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/simulador-entorno/SimuladorEntornoPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card } from \"@/components/ui/card\"\nimport { Globe } from \"lucide-react\"\n\nexport function SimuladorEntornoPlayer({ exerciseId, exerciseName, proofPointName, content, onSave, onComplete, onExit }: any) {\n  return (\n    <ExercisePlayer exerciseId={exerciseId} exerciseName={exerciseName} proofPointName={proofPointName} onSave={onSave} onComplete={onComplete} onExit={onExit}>\n      <Card className=\"p-6\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Globe className=\"h-5 w-5 text-primary\" />\n          <h3 className=\"font-semibold\">Simulador de Entorno</h3>\n        </div>\n        <p className=\"text-sm text-muted-foreground\">Simulador interactivo de escenarios (implementación completa pendiente)</p>\n      </Card>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,uBAAuB,EAAE,UAAU,EAAE,YAAY,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAO;IAC3H,qBACE,6WAAC,kKAAc;QAAC,YAAY;QAAY,cAAc;QAAc,gBAAgB;QAAgB,QAAQ;QAAQ,YAAY;QAAY,QAAQ;kBAClJ,cAAA,6WAAC,iIAAI;YAAC,WAAU;;8BACd,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,iSAAK;4BAAC,WAAU;;;;;;sCACjB,6WAAC;4BAAG,WAAU;sCAAgB;;;;;;;;;;;;8BAEhC,6WAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAIrD","debugId":null}},
    {"offset": {"line": 7022, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/sistema-progresion/SistemaProgresionPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { ExercisePlayer } from \"../base/ExercisePlayer\"\nimport { Card } from \"@/components/ui/card\"\nimport { Award } from \"lucide-react\"\n\nexport function SistemaProgresionPlayer({ exerciseId, exerciseName, proofPointName, content, onSave, onComplete, onExit }: any) {\n  return (\n    <ExercisePlayer exerciseId={exerciseId} exerciseName={exerciseName} proofPointName={proofPointName} onSave={onSave} onComplete={onComplete} onExit={onExit}>\n      <Card className=\"p-6\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Award className=\"h-5 w-5 text-primary\" />\n          <h3 className=\"font-semibold\">Sistema de Progresión</h3>\n        </div>\n        <p className=\"text-sm text-muted-foreground\">Visualización de badges y logros (implementación completa pendiente)</p>\n      </Card>\n    </ExercisePlayer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,wBAAwB,EAAE,UAAU,EAAE,YAAY,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAO;IAC5H,qBACE,6WAAC,kKAAc;QAAC,YAAY;QAAY,cAAc;QAAc,gBAAgB;QAAgB,QAAQ;QAAQ,YAAY;QAAY,QAAQ;kBAClJ,cAAA,6WAAC,iIAAI;YAAC,WAAU;;8BACd,6WAAC;oBAAI,WAAU;;sCACb,6WAAC,iSAAK;4BAAC,WAAU;;;;;;sCACjB,6WAAC;4BAAG,WAAU;sCAAgB;;;;;;;;;;;;8BAEhC,6WAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAIrD","debugId":null}},
    {"offset": {"line": 7094, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/components/players/index.ts"],"sourcesContent":["// Base\nexport { ExercisePlayer } from \"./base/ExercisePlayer\"\nexport { ExercisePlayerEnhanced } from \"./base/ExercisePlayerEnhanced\"\n\n// Main 4 Players\nexport { LeccionInteractivaPlayer } from \"./leccion-interactiva/LeccionInteractivaPlayer\"\nexport { CuadernoTrabajoPlayer } from \"./cuaderno-trabajo/CuadernoTrabajoPlayer\"\nexport { SimulacionInteraccionPlayer } from \"./simulacion-interaccion/SimulacionInteraccionPlayer\"\nexport { MentorIAPlayer } from \"./mentor-ia/MentorIAPlayer\"\n\n// Additional 6 Players (Basic Implementation)\nexport { HerramientaAnalisisPlayer } from \"./herramienta-analisis/HerramientaAnalisisPlayer\"\nexport { HerramientaCreacionPlayer } from \"./herramienta-creacion/HerramientaCreacionPlayer\"\nexport { SistemaTrackingPlayer } from \"./sistema-tracking/SistemaTrackingPlayer\"\nexport { HerramientaRevisionPlayer } from \"./herramienta-revision/HerramientaRevisionPlayer\"\nexport { SimuladorEntornoPlayer } from \"./simulador-entorno/SimuladorEntornoPlayer\"\nexport { SistemaProgresionPlayer } from \"./sistema-progresion/SistemaProgresionPlayer\"\n"],"names":[],"mappings":"AAAA,OAAO;;AACP;AACA;AAEA,iBAAiB;AACjB;AACA;AACA;AACA;AAEA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 7126, "column": 0}, "map": {"version":3,"sources":["file:///Users/ignaciozambrano/Library/CloudStorage/OneDrive-Personal/Desarrollos/xpertia-plataforma/apps/student-app/app/exercises/%5BexerciseId%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useParams, useRouter } from \"next/navigation\"\nimport useSWR from \"swr\"\nimport { exercisesApi, progressApi } from \"@/services/api\"\nimport { toast } from \"sonner\"\nimport { Loader2 } from \"lucide-react\"\n\n// Import all players\nimport {\n  LeccionInteractivaPlayer,\n  CuadernoTrabajoPlayer,\n  SimulacionInteraccionPlayer,\n  MentorIAPlayer,\n  HerramientaAnalisisPlayer,\n  HerramientaCreacionPlayer,\n  SistemaTrackingPlayer,\n  HerramientaRevisionPlayer,\n  SimuladorEntornoPlayer,\n  SistemaProgresionPlayer,\n} from \"@/components/players\"\n\nexport default function ExercisePage() {\n  const params = useParams()\n  const router = useRouter()\n  const exerciseId = params.exerciseId as string\n\n  // Fetch exercise data\n  const { data: exercise, error, isLoading } = useSWR(\n    exerciseId ? `exercise-${exerciseId}` : null,\n    () => exercisesApi.getById(exerciseId)\n  )\n\n  const handleSave = async (data: any) => {\n    try {\n      await exercisesApi.saveProgress(exerciseId, data)\n      toast.success(\"Progreso guardado exitosamente\")\n    } catch (error) {\n      console.error(\"Error saving progress:\", error)\n      toast.error(\"Error al guardar el progreso\")\n      throw error\n    }\n  }\n\n  const handleComplete = async (data: any) => {\n    try {\n      const result = await exercisesApi.complete(exerciseId, data)\n      toast.success(\"¡Ejercicio completado! 🎉\")\n\n      // Navigate based on completion result\n      if (result.nextExerciseId) {\n        router.push(`/exercises/${result.nextExerciseId}`)\n      } else if (result.proofPointCompleted) {\n        toast.success(\"¡Proof Point completado! 🌟\")\n        router.push(\"/dashboard\")\n      } else {\n        router.push(`/proof-points/${exercise?.proofPointId}`)\n      }\n    } catch (error) {\n      console.error(\"Error completing exercise:\", error)\n      toast.error(\"Error al completar el ejercicio\")\n      throw error\n    }\n  }\n\n  const handleExit = () => {\n    if (exercise?.proofPointId) {\n      router.push(`/proof-points/${exercise.proofPointId}`)\n    } else {\n      router.push(\"/dashboard\")\n    }\n  }\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-primary mx-auto mb-4\" />\n          <p className=\"text-muted-foreground\">Cargando ejercicio...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Error state\n  if (error || !exercise) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-destructive mb-4\">Error al cargar el ejercicio</p>\n          <button\n            onClick={() => router.push(\"/dashboard\")}\n            className=\"text-primary hover:underline\"\n          >\n            Volver al Dashboard\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  // Check if content is available\n  if (!exercise.content) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-muted-foreground mb-4\">El contenido del ejercicio no está disponible</p>\n          <button\n            onClick={() => router.push(\"/dashboard\")}\n            className=\"text-primary hover:underline\"\n          >\n            Volver al Dashboard\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  // Select the appropriate player based on exercise type\n  const baseProps = {\n    exerciseId: exercise.id,\n    exerciseName: exercise.nombre,\n    proofPointName: exercise.proofPointName ?? \"Proof Point\",\n    savedData: exercise.savedData,\n    onSave: handleSave,\n    onComplete: handleComplete,\n    onExit: handleExit,\n  }\n\n  // Player selection logic\n  switch (exercise.tipo) {\n    case \"leccion_interactiva\":\n      return <LeccionInteractivaPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"cuaderno_trabajo\":\n      return <CuadernoTrabajoPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"simulacion_interaccion\":\n      return <SimulacionInteraccionPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"mentor_ia\":\n      return <MentorIAPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"herramienta_analisis\":\n      return <HerramientaAnalisisPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"herramienta_creacion\":\n      return <HerramientaCreacionPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"sistema_tracking\":\n      return <SistemaTrackingPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"herramienta_revision\":\n      return <HerramientaRevisionPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"simulador_entorno\":\n      return <SimuladorEntornoPlayer {...baseProps} content={exercise.content as any} />\n\n    case \"sistema_progresion\":\n      return <SistemaProgresionPlayer {...baseProps} content={exercise.content as any} />\n\n    default:\n      return (\n        <div className=\"min-h-screen flex items-center justify-center\">\n          <div className=\"text-center\">\n            <p className=\"text-destructive mb-4\">\n              Tipo de ejercicio no soportado: {exercise.tipo}\n            </p>\n            <button\n              onClick={handleExit}\n              className=\"text-primary hover:underline\"\n            >\n              Volver\n            </button>\n          </div>\n        </div>\n      )\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAEA,qBAAqB;AACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;;;;;;;;AAsBe,SAAS;IACtB,MAAM,SAAS,IAAA,8QAAS;IACxB,MAAM,SAAS,IAAA,8QAAS;IACxB,MAAM,aAAa,OAAO,UAAU;IAEpC,sBAAsB;IACtB,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,+OAAM,EACjD,aAAa,CAAC,SAAS,EAAE,YAAY,GAAG,MACxC,IAAM,mJAAY,CAAC,OAAO,CAAC;IAG7B,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,MAAM,mJAAY,CAAC,YAAY,CAAC,YAAY;YAC5C,iRAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,iRAAK,CAAC,KAAK,CAAC;YACZ,MAAM;QACR;IACF;IAEA,MAAM,iBAAiB,OAAO;QAC5B,IAAI;YACF,MAAM,SAAS,MAAM,mJAAY,CAAC,QAAQ,CAAC,YAAY;YACvD,iRAAK,CAAC,OAAO,CAAC;YAEd,sCAAsC;YACtC,IAAI,OAAO,cAAc,EAAE;gBACzB,OAAO,IAAI,CAAC,CAAC,WAAW,EAAE,OAAO,cAAc,EAAE;YACnD,OAAO,IAAI,OAAO,mBAAmB,EAAE;gBACrC,iRAAK,CAAC,OAAO,CAAC;gBACd,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,OAAO,IAAI,CAAC,CAAC,cAAc,EAAE,UAAU,cAAc;YACvD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,iRAAK,CAAC,KAAK,CAAC;YACZ,MAAM;QACR;IACF;IAEA,MAAM,aAAa;QACjB,IAAI,UAAU,cAAc;YAC1B,OAAO,IAAI,CAAC,CAAC,cAAc,EAAE,SAAS,YAAY,EAAE;QACtD,OAAO;YACL,OAAO,IAAI,CAAC;QACd;IACF;IAEA,gBAAgB;IAChB,IAAI,WAAW;QACb,qBACE,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAI,WAAU;;kCACb,6WAAC,gTAAO;wBAAC,WAAU;;;;;;kCACnB,6WAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAI7C;IAEA,cAAc;IACd,IAAI,SAAS,CAAC,UAAU;QACtB,qBACE,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,6WAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCACX;;;;;;;;;;;;;;;;;IAMT;IAEA,gCAAgC;IAChC,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,qBACE,6WAAC;YAAI,WAAU;sBACb,cAAA,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,6WAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCACX;;;;;;;;;;;;;;;;;IAMT;IAEA,uDAAuD;IACvD,MAAM,YAAY;QAChB,YAAY,SAAS,EAAE;QACvB,cAAc,SAAS,MAAM;QAC7B,gBAAgB,SAAS,cAAc,IAAI;QAC3C,WAAW,SAAS,SAAS;QAC7B,QAAQ;QACR,YAAY;QACZ,QAAQ;IACV;IAEA,yBAAyB;IACzB,OAAQ,SAAS,IAAI;QACnB,KAAK;YACH,qBAAO,6WAAC,wMAAwB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAE3E,KAAK;YACH,qBAAO,6WAAC,+LAAqB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAExE,KAAK;YACH,qBAAO,6WAAC,iNAA2B;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAE9E,KAAK;YACH,qBAAO,6WAAC,0KAAc;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAEjE,KAAK;YACH,qBAAO,6WAAC,2MAAyB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAE5E,KAAK;YACH,qBAAO,6WAAC,2MAAyB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAE5E,KAAK;YACH,qBAAO,6WAAC,+LAAqB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAExE,KAAK;YACH,qBAAO,6WAAC,2MAAyB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAE5E,KAAK;YACH,qBAAO,6WAAC,kMAAsB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAEzE,KAAK;YACH,qBAAO,6WAAC,qMAAuB;gBAAE,GAAG,SAAS;gBAAE,SAAS,SAAS,OAAO;;;;;;QAE1E;YACE,qBACE,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAI,WAAU;;sCACb,6WAAC;4BAAE,WAAU;;gCAAwB;gCACF,SAAS,IAAI;;;;;;;sCAEhD,6WAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;IAMX;AACF","debugId":null}}]
}